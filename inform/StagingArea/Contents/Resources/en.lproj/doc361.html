<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_WI.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>22.1. A review of kinds</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "A review of kinds"-->
    <!--SEARCH SECTION "22.1"-->
    <!--SEARCH SORT "000-022-001-000"-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="doc360.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 22: Advanced Phrases</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="doc362.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <p class="sectionheading">ยง22.1. A review of kinds</p>
    <p>Most of the time, what's created in an Inform source text will have a name which can be used as a value - sometimes openly so, sometimes not. In this book, we haven't gone out of our way to make that point, because there was no real need to do so. It's possible to make heavy use of rulebooks and write large-scale Inform projects without ever needing to use a rulebook's name as a value in its own right, for example. But if we want to create sophisticated extensions to Inform, or to use modern techniques such as functional and generic programming, we need to be fluent in the language of kinds.</p>
    <p>Inform's language of kinds has four ingredients: base kinds, constructions, kind variables and kinds of kinds.</p>
    <p><span class="boldface">1. Base kinds.</span> Inform provides the following base kinds for values:</p>
    <!--START CODE "c8663"-->
    <blockquote class="code"><p class="quoted"><a id="c8663"></a>object, number, real number, time, truth state, text, snippet, Unicode character, action, scene, table name, equation name, use option, action name, figure name, sound name, external file, rulebook outcome, parser error
    </p>
    </blockquote>
    <!--END CODE-->
    <p>together with a few others, such as &quot;response&quot; and &quot;verb&quot;, to do with linguistic features.</p>
    <p>And Inform allows us to create new base kinds either by making more specialised kinds of object:</p>
    <!--START CODE "c8664"-->
    <blockquote class="code"><p class="quoted"><a id="c8664"></a>A geographical layout is a kind of object.
    <br>
    A marmoset is a kind of animal.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Or by making new enumerations or arithmetical kinds:</p>
    <!--START CODE "c8665"-->
    <blockquote class="code"><p class="quoted"><a id="c8665"></a>Distance is a kind of value. 10km specifies a distance.
    <br>
    Colour is a kind of value. Red, green and blue are colours.
    </p>
    </blockquote>
    <!--END CODE-->
    <p><span class="boldface">2. Constructions.</span> These are ways to make new kinds from existing ones.  The construction most often used is &quot;list of...&quot;. For any kind K, there is a kind called list of K. So the range of possible kinds in Inform is actually infinite, because:</p>
    <!--START CODE "c8666"-->
    <blockquote class="code"><p class="quoted"><a id="c8666"></a>number
    <br>
    list of numbers
    <br>
    list of lists of numbers
    <br>
    list of lists of lists of numbers
    <br>
    ...
    </p>
    </blockquote>
    <!--END CODE-->
    <p>are all different from each other. Inform has nine constructions, as follows:</p>
    <!--START CODE "c8667"-->
    <blockquote class="code"><p class="quoted"><a id="c8667"></a>list of K
    <br>
    description of K
    <br>
    relation of K to L
    <br>
    K based rule producing L
    <br>
    K based rulebook producing L
    <br>
    activity on K
    <br>
    phrase K -&gt; L
    <br>
    K valued property
    <br>
    K valued table column
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Some of these have appeared in previous chapters, but in abbreviated form. For example, &quot;rulebook&quot; abbreviates &quot;action based rulebook producing nothing&quot;, and &quot;either/or property&quot; is a synonym for &quot;truth state valued property&quot;. The kinds of descriptions and phrases haven't been covered yet, but are coming up in the sections following.</p>
    <p>These constructions can of course be combined:</p>
    <!--START CODE "c8668"-->
    <blockquote class="code"><p class="quoted"><a id="c8668"></a>phrase (relation of numbers to colours, number) -&gt; list of colours
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Brackets can be used to clarify matters:</p>
    <!--START CODE "c8669"-->
    <blockquote class="code"><p class="quoted"><a id="c8669"></a>phrase (phrase number -&gt; (phrase number -&gt; number)) -&gt; nothing
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Nothing will make that a simple idea, but it's unambiguous and can be puzzled out with practice.</p>
    <p><span class="boldface">3. Variables.</span> In a way, that's everything: there are just base kinds and constructions on them, and those construct every possible kind in Inform. But the language we use to describe kinds is larger than that, because it allows us to describe many kinds at once, in the same way that Inform reads the word &quot;something&quot; as applying to many objects at once, not as a single object.</p>
    <p>Kind variables will be covered later in the chapter, but the idea is that:</p>
    <!--START CODE "c8670"-->
    <blockquote class="code"><p class="quoted"><a id="c8670"></a>To hunt for (needle - value of kind K) in (haystack - list of Ks): ...
    </p>
    </blockquote>
    <!--END CODE-->
    <p>allows us to describe the kinds acceptable in a phrase so that a wide range of possibilities are allowed. The above matches both:</p>
    <!--START CODE "c8671"-->
    <blockquote class="code"><p class="quoted"><a id="c8671"></a>hunt for 4 in { 2, 3, 4, 5 };
    <br>
    hunt for &quot;fish&quot; in { &quot;lemon sauce&quot;, &quot;fish&quot;, &quot;garden peas&quot; };
    </p>
    </blockquote>
    <!--END CODE-->
    <p>The letter K in the definition stood for any kind; in the first use of &quot;hunt&quot; here, K turned out to be &quot;number&quot;, and in the second it was &quot;text&quot;. On the other hand Inform would reject:</p>
    <!--START CODE "c8672"-->
    <blockquote class="code"><p class="quoted"><a id="c8672"></a>hunt for 4 in { containment relation, support relation };
    </p>
    </blockquote>
    <!--END CODE-->
    <p>because there is no kind K which can make this match the definition.</p>
    <p>There are potentially 26 kind variables, A to Z, though it's customary to use them in the order K, L, M, ..., and it's very rare to need more than two at a time.</p>
    <p><span class="boldface">4. Kinds of kind.</span> Inform understands several names which look as if they are kinds, but actually aren't:</p>
    <!--START CODE "c8673"-->
    <blockquote class="code"><p class="quoted"><a id="c8673"></a>value, arithmetic value, enumerated value, sayable value
    </p>
    </blockquote>
    <!--END CODE-->
    <p>(Again, these are built in to Inform.) They are not kinds because they're just too loose and vague. Instead, they can be used in phrase definitions to match against multiple possibilities:</p>
    <!--START CODE "c8674"-->
    <blockquote class="code"><p class="quoted"><a id="c8674"></a>To announce (X - sayable value): say &quot;I declare that [X] has arrived.&quot;
    </p>
    </blockquote>
    <!--END CODE-->
    <p>This makes &quot;announce X&quot; work for any value X which can be said. All the same, &quot;sayable value&quot; is not a kind. It could never be safe for this to be the kind of a variable, because Inform would never know what could be done with the contents (except that it could be printed out).</p>
    <p><span class="boldface">5. Secret inner workings.</span> There isn't a fifth ingredient, but if there were, it would be a handful of names used in matching some of the core built-in phrases of Inform which have so-called inline I6 definitions. These are not intended for anyone else to use, and are just an internal convenience; they aren't publicly documented and might change without notice. They don't describe kinds at all, because they tell the matcher to look for something else instead. For instance, there's one called &quot;condition&quot;, which means &quot;match a condition rather than a value&quot;. They appear in red ink in the Phrasebook index.</p>
    <hr>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="doc360.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="doc362.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
