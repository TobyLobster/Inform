<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_RB.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>13.1. Testing</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "Testing"-->
    <!--SEARCH SECTION "13.1"-->
    <!--SEARCH SORT "001-013-001-000"-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="Rdoc101.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 13: Testing and Publishing</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="Rdoc103.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <p class="sectionheading">ยง13.1. Testing</p>
    <p>There are no recipes for testing, alas, although most experienced IF authors have their preferred ways of going about it. Briefly: the best advice is to build and maintain a Skein which holds complete play-throughs of the piece, so that it is easy to check with a single click that all is still well; to have beta-testers who play through (substantial) drafts and send back their transcripts of play, along with suggestions; and to listen to these suggestions, and treat the beta-testers as editors rather than galley slaves.</p>
    <p><span class="boldface">Alpha</span> shows a way to gracefully accept beta-testers' annotations without advancing time in the story.</p>
    <p>Most large works of IF have historically provided secret commands for testing and debugging - commands removed (or sometimes accidentally not) in the final released product. Inform does this automatically: the commands SHOWME, ACTIONS and SCENES are always present except in a released story file. It also allows us to write passages of source text which apply only for the testing phase, so that we can define new testing commands, or other checks that all is well: <span class="boldface">Bic</span> demonstrates this, and is also useful in its own right.</p>
    <hr>
    <div class="bookexamples">
        <p class="chapterheading"></p>
        <!--START EXAMPLE "2: Bic" "e33"-->
        <a id="e33"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example33'); return false;"><b>2</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example33'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bic</span></b></a><br>
                    Testing to make sure that all objects have been given descriptions.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="doc24.html#e33"><i>WI</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example33" style="display: none;">
            <p>It may occasionally be useful to check whether all objects in our game have a given property. Here we have a &quot;not for release&quot; section that will run at the start of the game and alert us to any objects lacking description:</p>
            <!--START CODE "c16535_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16535_33"></a><a href="javascript:pasteCode('[=0x0022=]Bic[=0x0022=][=0x000A=][=0x000A=]Section 1 - Testing descriptions - Not for release[=0x000A=][=0x000A=]When play begins (this is the run property checks at the start of play rule):[=0x000A=][=0x0009=]repeat with item running through things:[=0x000A=][=0x0009=][=0x0009=]if description of the item is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][item] has no description.[=0x0022=][=0x000A=][=0x000A=]Section 2 - Story[=0x000A=][=0x000A=]The Staff Break Room is a room.[=0x000A=][=0x000A=]The player carries an orange, a Bic pen, and a napkin. The description of the orange is [=0x0022=]It[=0x0027=]s a small hard pinch-skinned thing from the lunch room, probably with lots of pips and no juice.[=0x0022=][=0x000A=][=0x000A=]The description of the napkin is [=0x0022=]Slightly crumpled.[=0x0022=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Bic[=0x0022=][=0x000A=][=0x000A=]Section 1 - Testing descriptions - Not for release[=0x000A=][=0x000A=]When play begins (this is the run property checks at the start of play rule):[=0x000A=][=0x0009=]repeat with item running through things:[=0x000A=][=0x0009=][=0x0009=]if description of the item is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][item] has no description.[=0x0022=][=0x000A=][=0x000A=]Section 2 - Story[=0x000A=][=0x000A=]The Staff Break Room is a room.[=0x000A=][=0x000A=]The player carries an orange, a Bic pen, and a napkin. The description of the orange is [=0x0022=]It[=0x0027=]s a small hard pinch-skinned thing from the lunch room, probably with lots of pips and no juice.[=0x0022=][=0x000A=][=0x000A=]The description of the napkin is [=0x0022=]Slightly crumpled.[=0x0022=][=0x000A=]\n', 'Example - Bic')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Bic&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16536_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16536_33"></a>Section 1 - Testing descriptions - Not for release
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16537_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16537_33"></a>When play begins (this is the run property checks at the start of play rule):
            <br>
            &#160;&#160;&#160;&#160;repeat with item running through things:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if description of the item is &quot;&quot;:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[item] has no description.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16538_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16538_33"></a>Section 2 - Story
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16539_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16539_33"></a>The Staff Break Room is a room.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16540_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16540_33"></a>The player carries an orange, a Bic pen, and a napkin. The description of the orange is &quot;It's a small hard pinch-skinned thing from the lunch room, probably with lots of pips and no juice.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16541_33"-->
            <blockquote class="code"><p class="quoted"><a id="c16541_33"></a>The description of the napkin is &quot;Slightly crumpled.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "413: Alpha" "e8"-->
        <a id="e8"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example8'); return false;"><b>413</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example8'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Alpha</span></b></a><br>
                    Creating a beta-testing command that matches any line starting with punctuation.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="doc346.html#e8"><i>WI</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example8" style="display: none;">
            <p>Sometimes we want to let testers of a game insert their own comments during a transcript, without those comments wasting turns of the game or producing lengthy or inappropriate parser errors. Many testers have a habit of prefacing comments with a punctuation mark, so let's say that we'd like to catch any command that starts with any punctuation at all:</p>
            <!--START CODE "c16542_8"-->
            <blockquote class="code"><p class="quoted"><a id="c16542_8"></a><a href="javascript:pasteCode(' [=0x0022=]Alpha[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]Hi, Larry! Thanks for testing my game!![=0x0022=][=0x000A=][=0x000A=]Unimplemented Room is a room. [=0x0022=]Room description goes here...[=0x0022=][=0x000A=][=0x000A=]The scary troll is a man in Unimplemented Room.[=0x000A=][=0x000A=]After reading a command (this is the ignore beta-comments rule):[=0x000A=][=0x0009=]if the player[=0x0027=]s command matches the regular expression [=0x0022=]^[=0x005C=]p[=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](Noted.)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]reject the player[=0x0027=]s command.[=0x000A=][=0x000A=]Test me with [=0x0022=]x me / x troll / !this game is a bit dull so far / kiss troll / ? does this troll do anything? / :yawn[=0x0022=].[=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject(' [=0x0022=]Alpha[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]Hi, Larry! Thanks for testing my game!![=0x0022=][=0x000A=][=0x000A=]Unimplemented Room is a room. [=0x0022=]Room description goes here...[=0x0022=][=0x000A=][=0x000A=]The scary troll is a man in Unimplemented Room.[=0x000A=][=0x000A=]After reading a command (this is the ignore beta-comments rule):[=0x000A=][=0x0009=]if the player[=0x0027=]s command matches the regular expression [=0x0022=]^[=0x005C=]p[=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](Noted.)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]reject the player[=0x0027=]s command.[=0x000A=][=0x000A=]Test me with [=0x0022=]x me / x troll / !this game is a bit dull so far / kiss troll / ? does this troll do anything? / :yawn[=0x0022=].[=0x000A=]\n', 'Example - Alpha')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp;  &quot;Alpha&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16543_8"-->
            <blockquote class="code"><p class="quoted"><a id="c16543_8"></a>When play begins:
            <br>
            &#160;&#160;&#160;&#160;say &quot;Hi, Larry! Thanks for testing my game!!&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16544_8"-->
            <blockquote class="code"><p class="quoted"><a id="c16544_8"></a>Unimplemented Room is a room. &quot;Room description goes here...&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16545_8"-->
            <blockquote class="code"><p class="quoted"><a id="c16545_8"></a>The scary troll is a man in Unimplemented Room.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16546_8"-->
            <blockquote class="code"><p class="quoted"><a id="c16546_8"></a>After reading a command (this is the ignore beta-comments rule):
            <br>
            &#160;&#160;&#160;&#160;if the player's command matches the regular expression &quot;^\p&quot;:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(Noted.)&quot;;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c16547_8"-->
            <blockquote class="code"><p class="quoted"><a id="c16547_8"></a>Test me with &quot;x me / x troll / !this game is a bit dull so far / kiss troll / ? does this troll do anything? / :yawn&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <hr>
    </div>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="Rdoc101.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="Rdoc103.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
