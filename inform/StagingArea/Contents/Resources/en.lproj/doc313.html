<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_WI.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>18.27. Choosing notable locale objects for something</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "Choosing notable locale objects for something"-->
    <!--SEARCH SECTION "18.27"-->
    <!--SEARCH SORT "000-018-027-000"-->
    <!--START IGNORE 312-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="doc312.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 18: Activities</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="doc314.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
    <p class="sectionheading">ยง18.27. Choosing notable locale objects for something</p>
    <p><span class="boldface">1. When it happens.</span> See &quot;printing the locale description&quot;. This activity is expected to decide which items ought to be mentioned in a locale description for a given room, enterable container or enterable supporter, and to give each item a priority, which is a number ranging upwards from 1 (which is the top priority). The lower the priority number, the earlier the mention, or at least, the earlier the opportunity to be mentioned: it's up to other activities whether to give it a paragraph of its own or not. This activity only makes something a candidate, and decides what order the candidates will be tried in.</p>
    <p><span class="boldface">2. The default behaviour.</span> By default, this activity contains only the &quot;standard notable locale objects rule&quot;. This chooses exactly those items directly contained by the locale, assigning all of them priority 5. Note that this includes scenery, and other probably unwanted items - those will be excluded later.</p>
    <p><span class="boldface">3. Examples.</span> (a) In the Misty Moorlands, only large items on the ground are visible through the mist:</p>
    <!--START CODE "c6828"-->
    <blockquote class="code"><p class="quoted"><a id="c6828"></a><a href="javascript:pasteCode('A thing can be large or small. A thing is usually small. The stepladder is a large thing in the Misty Moorlands.[=0x000A=][=0x000A=]Rule for choosing notable locale objects for the Misty Moorlands:[=0x000A=][=0x0009=]repeat with item running through large things in the Misty Moorlands:[=0x000A=][=0x0009=][=0x0009=]set the locale priority of the item to 5.[=0x000A=][=0x000A=]Report taking a small thing in the Misty Moorlands:[=0x000A=][=0x0009=]say [=0x0022=]You grope blindly in the mist and pick up [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> A thing can be large or small. A thing is usually small. The stepladder is a large thing in the Misty Moorlands.
    </p>
    </blockquote>
    <!--END CODE-->
    <!--START CODE "c6829"-->
    <blockquote class="code"><p class="quoted"><a id="c6829"></a>Rule for choosing notable locale objects for the Misty Moorlands:
    <br>
    &#160;&#160;&#160;&#160;repeat with item running through large things in the Misty Moorlands:
    <br>
    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 5.
    </p>
    </blockquote>
    <!--END CODE-->
    <!--START CODE "c6830"-->
    <blockquote class="code"><p class="quoted"><a id="c6830"></a>Report taking a small thing in the Misty Moorlands:
    <br>
    &#160;&#160;&#160;&#160;say &quot;You grope blindly in the mist and pick up [the noun].&quot; instead.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Note the special phrase</p>
    <!--START CODE "c6831"-->
    <blockquote class="code"><p class="quoted"><a id="c6831"></a>set the locale priority of the item to 5;
    </p>
    </blockquote>
    <!--END CODE-->
    <p>which should be used only in rules for locale activities. It makes the given item a candidate and sets its priority. (Setting the priority to 0 forces an item not to be a candidate, and can thus undo the effect of previous rules.)</p>
    <p>It's best to avoid situations where an item has a locale priority which is higher than that of something it is on top of, or inside, since this can result in an oddly-worded description.</p>
    <hr>
    <div class="bookexamples">
        <p class="chapterheading"></p>
        <!--START EXAMPLE "359: Low Light" "e230"-->
        <a id="e230"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example230'); return false;"><b>359</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example230'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Low Light</span></b></a><br>
                    An object that is only visible and manipulable when a bright light fixture is on.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="Rdoc8.html#e230"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example230" style="display: none;">
            <p>Suppose we want a different treatment of lighting than the usual: the room isn't totally dark, but there's something we can't see unless we turn on a bright light.</p>
            <!--START CODE "c6832_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6832_230"></a><a href="javascript:pasteCode('[=0x0022=]Low Light[=0x0022=][=0x000A=][=0x000A=][First we make our environment and its light:][=0x000A=][=0x000A=]The Workroom is a room. The desk is in the Workroom. The brilliant lamp is a device on the desk.[=0x000A=][=0x000A=]To decide whether the light level is high:[=0x000A=][=0x0009=]if the brilliant lamp is switched off, no;[=0x000A=][=0x0009=]if the player cannot see the brilliant lamp, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=]To decide whether the light level is low:[=0x000A=][=0x0009=]if the light level is high, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=][Now we make a shadow so that the player can only refer to it if the shadow is in inventory or the light is on:][=0x000A=][=0x000A=]The shadow is a privately-named thing on the desk.[=0x000A=][=0x000A=]Understand [=0x0022=]barely-visible[=0x0022=] or [=0x0022=]barely visible[=0x0022=] or [=0x0022=]shadow[=0x0022=] as the shadow when the light level is high. Understand [=0x0022=]invisible[=0x0022=] or [=0x0022=]shadow[=0x0022=] as the shadow when the player encloses the shadow.[=0x000A=][=0x000A=][And finally a couple of extra touches to make it clear why we[=0x0027=]re able to interact with the shadow when it[=0x0027=]s in inventory, even if the light is low:][=0x000A=][=0x000A=]Before printing the name of the shadow:[=0x000A=][=0x0009=]if the light level is high:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]barely-visible [=0x0022=];[=0x000A=][=0x0009=]otherwise if the player encloses the shadow:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]invisible (but tangible) [=0x0022=][=0x000A=][=0x000A=]After dropping the shadow when the light level is low:[=0x000A=][=0x0009=]say [=0x0022=]You let it go and it fades into the ambient gloom.[=0x0022=][=0x000A=][=0x000A=][To handle the appearance of the object, we want to set its locale priority to 0: that will prevent it being named in room descriptions.][=0x000A=][=0x000A=]After choosing notable locale objects:[=0x000A=][=0x0009=]unless the light level is high:[=0x000A=][=0x0009=][=0x0009=]set locale priority of the shadow to 0.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / get shadow / turn on lamp / look / get shadow / i / turn off lamp / i / drop shadow / look / get shadow / turn on lamp / look[=0x0022=].[=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Low Light[=0x0022=][=0x000A=][=0x000A=][First we make our environment and its light:][=0x000A=][=0x000A=]The Workroom is a room. The desk is in the Workroom. The brilliant lamp is a device on the desk.[=0x000A=][=0x000A=]To decide whether the light level is high:[=0x000A=][=0x0009=]if the brilliant lamp is switched off, no;[=0x000A=][=0x0009=]if the player cannot see the brilliant lamp, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=]To decide whether the light level is low:[=0x000A=][=0x0009=]if the light level is high, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=][Now we make a shadow so that the player can only refer to it if the shadow is in inventory or the light is on:][=0x000A=][=0x000A=]The shadow is a privately-named thing on the desk.[=0x000A=][=0x000A=]Understand [=0x0022=]barely-visible[=0x0022=] or [=0x0022=]barely visible[=0x0022=] or [=0x0022=]shadow[=0x0022=] as the shadow when the light level is high. Understand [=0x0022=]invisible[=0x0022=] or [=0x0022=]shadow[=0x0022=] as the shadow when the player encloses the shadow.[=0x000A=][=0x000A=][And finally a couple of extra touches to make it clear why we[=0x0027=]re able to interact with the shadow when it[=0x0027=]s in inventory, even if the light is low:][=0x000A=][=0x000A=]Before printing the name of the shadow:[=0x000A=][=0x0009=]if the light level is high:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]barely-visible [=0x0022=];[=0x000A=][=0x0009=]otherwise if the player encloses the shadow:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]invisible (but tangible) [=0x0022=][=0x000A=][=0x000A=]After dropping the shadow when the light level is low:[=0x000A=][=0x0009=]say [=0x0022=]You let it go and it fades into the ambient gloom.[=0x0022=][=0x000A=][=0x000A=][To handle the appearance of the object, we want to set its locale priority to 0: that will prevent it being named in room descriptions.][=0x000A=][=0x000A=]After choosing notable locale objects:[=0x000A=][=0x0009=]unless the light level is high:[=0x000A=][=0x0009=][=0x0009=]set locale priority of the shadow to 0.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / get shadow / turn on lamp / look / get shadow / i / turn off lamp / i / drop shadow / look / get shadow / turn on lamp / look[=0x0022=].[=0x000A=]\n', 'Example - Low Light')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Low Light&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>First we make our environment and its light:</p>
            <!--START CODE "c6833_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6833_230"></a>The Workroom is a room. The desk is in the Workroom. The brilliant lamp is a device on the desk.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6834_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6834_230"></a>To decide whether the light level is high:
            <br>
            &#160;&#160;&#160;&#160;if the brilliant lamp is switched off, no;
            <br>
            &#160;&#160;&#160;&#160;if the player cannot see the brilliant lamp, no;
            <br>
            &#160;&#160;&#160;&#160;yes.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6835_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6835_230"></a>To decide whether the light level is low:
            <br>
            &#160;&#160;&#160;&#160;if the light level is high, no;
            <br>
            &#160;&#160;&#160;&#160;yes.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Now we make a shadow so that the player can only refer to it if the shadow is in inventory or the light is on:</p>
            <!--START CODE "c6836_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6836_230"></a>The shadow is a privately-named thing on the desk.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6837_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6837_230"></a>Understand &quot;barely-visible&quot; or &quot;barely visible&quot; or &quot;shadow&quot; as the shadow when the light level is high. Understand &quot;invisible&quot; or &quot;shadow&quot; as the shadow when the player encloses the shadow.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And finally a couple of extra touches to make it clear why we're able to interact with the shadow when it's in inventory, even if the light is low:</p>
            <!--START CODE "c6838_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6838_230"></a>Before printing the name of the shadow:
            <br>
            &#160;&#160;&#160;&#160;if the light level is high:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;barely-visible &quot;;
            <br>
            &#160;&#160;&#160;&#160;otherwise if the player encloses the shadow:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;invisible (but tangible) &quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6839_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6839_230"></a>After dropping the shadow when the light level is low:
            <br>
            &#160;&#160;&#160;&#160;say &quot;You let it go and it fades into the ambient gloom.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>To handle the appearance of the object, we want to set its locale priority to 0: that will prevent it being named in room descriptions.</p>
            <!--START CODE "c6840_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6840_230"></a>After choosing notable locale objects:
            <br>
            &#160;&#160;&#160;&#160;unless the light level is high:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set locale priority of the shadow to 0.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6841_230"-->
            <blockquote class="code"><p class="quoted"><a id="c6841_230"></a>Test me with &quot;look / get shadow / turn on lamp / look / get shadow / i / turn off lamp / i / drop shadow / look / get shadow / turn on lamp / look&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "360: Casino Banale" "e67"-->
        <a id="e67"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example67'); return false;"><b>360</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example67'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Casino Banale</span></b></a><br>
                    Creating room descriptions and object descriptions that change as the player learns new facts and pieces things together.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="Rdoc27.html#e67"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example67" style="display: none;">
            <p>In a work of interactive fiction that involves many new discoveries, we might want to change the way we narrate room descriptions and describe objects as the player learns new information.</p>
            <p>One approach to this is to create a model of the facts we want the player to find out, and attach some narrative text to each. When a fact becomes relevant to the story, that narrative text is shown to the player. So:</p>
            <!--START CODE "c6842_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6842_67"></a><a href="javascript:pasteCode('[=0x0022=]Casino Banale[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=][First we create the concept of facts, and the idea that facts can make some things more important than others.][=0x000A=][=0x000A=]A fact is a kind of thing. A fact can be known or unknown. A fact can be ready to learn or hidden. A fact has some text called the narration.[=0x000A=][=0x000A=]Definition: a thing is narratively significant if it conveys an interesting fact.[=0x000A=][=0x000A=]Definition: a thing is narratively dull if it is not narratively significant.[=0x000A=][=0x000A=]Conveyance relates various things to various facts. The verb to convey means the conveyance relation.[=0x000A=][=0x000A=]Definition: a fact is interesting if it is unknown and it is ready to learn.[=0x000A=][=0x000A=][Now, we also need a way to tell Inform to introduce certain new facts when the right previous ones have been introduced. We[=0x0027=]ll create a [=0x0022=]following[=0x0022=] relation, according to which a new fact can be told to the player when the player has already learned all the facts it follows. This way, we can simulate the effect of putting together several pieces of evidence to come to a conclusion:][=0x000A=][=0x000A=]Following relates various facts to various facts. The verb to follow means the following relation.[=0x000A=][=0x000A=]To say (new fact - a fact):[=0x000A=][=0x0009=]say [=0x0022=][narration of the new fact][=0x0022=];[=0x000A=][=0x0009=]now the new fact is known;[=0x000A=][=0x0009=]repeat with possible outcome running through facts which follow the new fact:[=0x000A=][=0x0009=][=0x0009=]if every fact which is followed by possible outcome is known:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the possible outcome is ready to learn.[=0x000A=][=0x000A=][Next we need a way for the game to introduce these new facts. Let[=0x0027=]s say we want them to come up when the player examines something appropriate, or sees it in the room:][=0x000A=][=0x000A=]After examining something which conveys an interesting fact (called discovery):[=0x000A=][=0x0009=]say [=0x0022=][discovery][paragraph break][=0x0022=].[=0x000A=][=0x000A=]After choosing notable locale objects:[=0x000A=][=0x0009=]repeat through the Table of Locale Priorities:[=0x000A=][=0x0009=][=0x0009=]if the notable-object entry is narratively significant:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]set the locale priority of the notable-object entry to 1.[=0x000A=][=0x000A=]For writing a paragraph about a narratively significant thing (called item):[=0x000A=][=0x0009=]now the item is mentioned;[=0x000A=][=0x0009=]let chosen fact be a random interesting fact which is conveyed by the item;[=0x000A=][=0x0009=]say [=0x0022=][chosen fact][paragraph break][=0x0022=].[=0x000A=][=0x000A=][The [=0x0022=]after choosing notable locale objects[=0x0022=] line here handles things so that any interesting conclusions we want to draw are always given first, followed by the less interesting description.][=0x000A=][=0x000A=][And finally, we need to give the player a little evidence to piece together:][=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Casino is a room.[=0x000A=][=0x000A=]Frince is a man in the Casino. The description is [=0x0022=]Frince is a friend of yours -- if you reckon friendship on the same terms that one reckons a cat as a pet. He spends time with you when he wants to, but if your wishes or convenience ever run counter to a whim of his, it[=0x0027=]s the whim that wins. Always. [paragraph break]He[=0x0027=]s also wearing a somewhat ludicrous shirt.[=0x0022=][=0x000A=][=0x000A=]Frince wears a ludicrous shirt. The description of the ludicrous shirt is [=0x0022=]Fine white fabric with satiny white pinstripes: it[=0x0027=]s that expensive, effeminate look that Frince is so fond of, and which -- combined with his name -- gives people completely the wrong idea about him.[=0x0022=][=0x000A=][=0x000A=]Tim is a man in the Casino. The description is [=0x0022=]You don[=0x0027=]t know Tim well. Kind of wall-flowerish. The only thing that seems to excite him is craps.[=0x0022=][=0x000A=][=0x000A=]Penny is a woman in the Casino. The description is [=0x0022=]Loud. Brash. Hot, probably, if you can look past the loud and brash.[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a narratively dull person:[=0x000A=][=0x0009=]let is-are-n be [=0x0022=]is[=0x0022=];[=0x000A=][=0x0009=]if the number of unmentioned narratively dull people is not 1:[=0x000A=][=0x0009=][=0x0009=]let is-are-n be [=0x0022=]are[=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=][A list of unmentioned narratively dull people] [is-are-n] [one of]watching the croupier[or]following the spin of the roulette[or]chattering[at random][one of] breathlessly[or] impatiently[or][at random].[=0x0022=][=0x000A=][=0x000A=]Penny-annoying is a fact.[=0x000A=][=0x0009=]It is ready to learn.[=0x000A=][=0x0009=]The narration is [=0x0022=][if looking]Penny grimaces at you-- [end if]Penny is the same woman who stepped on your toe in the buffet line. The third time, she blurted, [=0x0027=]You have big shoes, don[=0x0027=]t you?[=0x0027=][=0x0022=][=0x000A=][=0x0009=]Penny conveys penny-annoying.[=0x000A=][=0x000A=]lipstick-smudges is a fact.[=0x000A=][=0x0009=]It is ready to learn.[=0x000A=][=0x0009=]The narration is [=0x0022=]There are a couple of smudges of coral-colored lipstick on the collar.[=0x0022=][=0x000A=][=0x0009=]The ludicrous shirt conveys lipstick-smudges.[=0x000A=][=0x000A=]penny-wears-coral is a fact.[=0x000A=][=0x0009=]It follows penny-annoying.[=0x000A=][=0x0009=]The narration is [=0x0022=][if looking]Penny catches your eye again. [end if]The bright coral lipstick was really not a wise choice.[=0x0022=][=0x000A=][=0x0009=]Penny conveys penny-wears-coral.[=0x000A=][=0x000A=]Affair-with-penny is a fact.[=0x000A=][=0x0009=]It follows lipstick-smudges and penny-wears-coral.[=0x000A=][=0x0009=]The narration is [=0x0022=]You avoid [if examining Frince]his[otherwise]Frince[=0x0027=]s[end if] eye. You need some time to adjust to the image of him making out with Penny in a storage closet before you can talk to him without appalled giggling.[=0x0022=][=0x000A=][=0x0009=]Frince conveys affair-with-Penny.[=0x000A=][=0x000A=]Test me with [=0x0022=]x penny / x frince / x shirt / look[=0x0022=].[=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Casino Banale[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=][First we create the concept of facts, and the idea that facts can make some things more important than others.][=0x000A=][=0x000A=]A fact is a kind of thing. A fact can be known or unknown. A fact can be ready to learn or hidden. A fact has some text called the narration.[=0x000A=][=0x000A=]Definition: a thing is narratively significant if it conveys an interesting fact.[=0x000A=][=0x000A=]Definition: a thing is narratively dull if it is not narratively significant.[=0x000A=][=0x000A=]Conveyance relates various things to various facts. The verb to convey means the conveyance relation.[=0x000A=][=0x000A=]Definition: a fact is interesting if it is unknown and it is ready to learn.[=0x000A=][=0x000A=][Now, we also need a way to tell Inform to introduce certain new facts when the right previous ones have been introduced. We[=0x0027=]ll create a [=0x0022=]following[=0x0022=] relation, according to which a new fact can be told to the player when the player has already learned all the facts it follows. This way, we can simulate the effect of putting together several pieces of evidence to come to a conclusion:][=0x000A=][=0x000A=]Following relates various facts to various facts. The verb to follow means the following relation.[=0x000A=][=0x000A=]To say (new fact - a fact):[=0x000A=][=0x0009=]say [=0x0022=][narration of the new fact][=0x0022=];[=0x000A=][=0x0009=]now the new fact is known;[=0x000A=][=0x0009=]repeat with possible outcome running through facts which follow the new fact:[=0x000A=][=0x0009=][=0x0009=]if every fact which is followed by possible outcome is known:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the possible outcome is ready to learn.[=0x000A=][=0x000A=][Next we need a way for the game to introduce these new facts. Let[=0x0027=]s say we want them to come up when the player examines something appropriate, or sees it in the room:][=0x000A=][=0x000A=]After examining something which conveys an interesting fact (called discovery):[=0x000A=][=0x0009=]say [=0x0022=][discovery][paragraph break][=0x0022=].[=0x000A=][=0x000A=]After choosing notable locale objects:[=0x000A=][=0x0009=]repeat through the Table of Locale Priorities:[=0x000A=][=0x0009=][=0x0009=]if the notable-object entry is narratively significant:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]set the locale priority of the notable-object entry to 1.[=0x000A=][=0x000A=]For writing a paragraph about a narratively significant thing (called item):[=0x000A=][=0x0009=]now the item is mentioned;[=0x000A=][=0x0009=]let chosen fact be a random interesting fact which is conveyed by the item;[=0x000A=][=0x0009=]say [=0x0022=][chosen fact][paragraph break][=0x0022=].[=0x000A=][=0x000A=][The [=0x0022=]after choosing notable locale objects[=0x0022=] line here handles things so that any interesting conclusions we want to draw are always given first, followed by the less interesting description.][=0x000A=][=0x000A=][And finally, we need to give the player a little evidence to piece together:][=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Casino is a room.[=0x000A=][=0x000A=]Frince is a man in the Casino. The description is [=0x0022=]Frince is a friend of yours -- if you reckon friendship on the same terms that one reckons a cat as a pet. He spends time with you when he wants to, but if your wishes or convenience ever run counter to a whim of his, it[=0x0027=]s the whim that wins. Always. [paragraph break]He[=0x0027=]s also wearing a somewhat ludicrous shirt.[=0x0022=][=0x000A=][=0x000A=]Frince wears a ludicrous shirt. The description of the ludicrous shirt is [=0x0022=]Fine white fabric with satiny white pinstripes: it[=0x0027=]s that expensive, effeminate look that Frince is so fond of, and which -- combined with his name -- gives people completely the wrong idea about him.[=0x0022=][=0x000A=][=0x000A=]Tim is a man in the Casino. The description is [=0x0022=]You don[=0x0027=]t know Tim well. Kind of wall-flowerish. The only thing that seems to excite him is craps.[=0x0022=][=0x000A=][=0x000A=]Penny is a woman in the Casino. The description is [=0x0022=]Loud. Brash. Hot, probably, if you can look past the loud and brash.[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a narratively dull person:[=0x000A=][=0x0009=]let is-are-n be [=0x0022=]is[=0x0022=];[=0x000A=][=0x0009=]if the number of unmentioned narratively dull people is not 1:[=0x000A=][=0x0009=][=0x0009=]let is-are-n be [=0x0022=]are[=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=][A list of unmentioned narratively dull people] [is-are-n] [one of]watching the croupier[or]following the spin of the roulette[or]chattering[at random][one of] breathlessly[or] impatiently[or][at random].[=0x0022=][=0x000A=][=0x000A=]Penny-annoying is a fact.[=0x000A=][=0x0009=]It is ready to learn.[=0x000A=][=0x0009=]The narration is [=0x0022=][if looking]Penny grimaces at you-- [end if]Penny is the same woman who stepped on your toe in the buffet line. The third time, she blurted, [=0x0027=]You have big shoes, don[=0x0027=]t you?[=0x0027=][=0x0022=][=0x000A=][=0x0009=]Penny conveys penny-annoying.[=0x000A=][=0x000A=]lipstick-smudges is a fact.[=0x000A=][=0x0009=]It is ready to learn.[=0x000A=][=0x0009=]The narration is [=0x0022=]There are a couple of smudges of coral-colored lipstick on the collar.[=0x0022=][=0x000A=][=0x0009=]The ludicrous shirt conveys lipstick-smudges.[=0x000A=][=0x000A=]penny-wears-coral is a fact.[=0x000A=][=0x0009=]It follows penny-annoying.[=0x000A=][=0x0009=]The narration is [=0x0022=][if looking]Penny catches your eye again. [end if]The bright coral lipstick was really not a wise choice.[=0x0022=][=0x000A=][=0x0009=]Penny conveys penny-wears-coral.[=0x000A=][=0x000A=]Affair-with-penny is a fact.[=0x000A=][=0x0009=]It follows lipstick-smudges and penny-wears-coral.[=0x000A=][=0x0009=]The narration is [=0x0022=]You avoid [if examining Frince]his[otherwise]Frince[=0x0027=]s[end if] eye. You need some time to adjust to the image of him making out with Penny in a storage closet before you can talk to him without appalled giggling.[=0x0022=][=0x000A=][=0x0009=]Frince conveys affair-with-Penny.[=0x000A=][=0x000A=]Test me with [=0x0022=]x penny / x frince / x shirt / look[=0x0022=].[=0x000A=]\n', 'Example - Casino Banale')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Casino Banale&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6843_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6843_67"></a>Section 1 - Procedure
            </p>
            </blockquote>
            <!--END CODE-->
            <p>First we create the concept of facts, and the idea that facts can make some things more important than others.</p>
            <!--START CODE "c6844_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6844_67"></a>A fact is a kind of thing. A fact can be known or unknown. A fact can be ready to learn or hidden. A fact has some text called the narration.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6845_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6845_67"></a>Definition: a thing is narratively significant if it conveys an interesting fact.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6846_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6846_67"></a>Definition: a thing is narratively dull if it is not narratively significant.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6847_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6847_67"></a>Conveyance relates various things to various facts. The verb to convey means the conveyance relation.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6848_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6848_67"></a>Definition: a fact is interesting if it is unknown and it is ready to learn.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Now, we also need a way to tell Inform to introduce certain new facts when the right previous ones have been introduced. We'll create a &quot;following&quot; relation, according to which a new fact can be told to the player when the player has already learned all the facts it follows. This way, we can simulate the effect of putting together several pieces of evidence to come to a conclusion:</p>
            <!--START CODE "c6849_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6849_67"></a>Following relates various facts to various facts. The verb to follow means the following relation.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6850_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6850_67"></a>To say (new fact - a fact):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[narration of the new fact]&quot;;
            <br>
            &#160;&#160;&#160;&#160;now the new fact is known;
            <br>
            &#160;&#160;&#160;&#160;repeat with possible outcome running through facts which follow the new fact:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if every fact which is followed by possible outcome is known:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the possible outcome is ready to learn.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Next we need a way for the game to introduce these new facts. Let's say we want them to come up when the player examines something appropriate, or sees it in the room:</p>
            <!--START CODE "c6851_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6851_67"></a>After examining something which conveys an interesting fact (called discovery):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[discovery][paragraph break]&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6852_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6852_67"></a>After choosing notable locale objects:
            <br>
            &#160;&#160;&#160;&#160;repeat through the Table of Locale Priorities:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the notable-object entry is narratively significant:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the notable-object entry to 1.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6853_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6853_67"></a>For writing a paragraph about a narratively significant thing (called item):
            <br>
            &#160;&#160;&#160;&#160;now the item is mentioned;
            <br>
            &#160;&#160;&#160;&#160;let chosen fact be a random interesting fact which is conveyed by the item;
            <br>
            &#160;&#160;&#160;&#160;say &quot;[chosen fact][paragraph break]&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>The &quot;after choosing notable locale objects&quot; line here handles things so that any interesting conclusions we want to draw are always given first, followed by the less interesting description.</p>
            <p>And finally, we need to give the player a little evidence to piece together:</p>
            <!--START CODE "c6854_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6854_67"></a>Section 2 - Scenario
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6855_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6855_67"></a>The Casino is a room.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6856_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6856_67"></a>Frince is a man in the Casino. The description is &quot;Frince is a friend of yours -- if you reckon friendship on the same terms that one reckons a cat as a pet. He spends time with you when he wants to, but if your wishes or convenience ever run counter to a whim of his, it's the whim that wins. Always. [paragraph break]He's also wearing a somewhat ludicrous shirt.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6857_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6857_67"></a>Frince wears a ludicrous shirt. The description of the ludicrous shirt is &quot;Fine white fabric with satiny white pinstripes: it's that expensive, effeminate look that Frince is so fond of, and which -- combined with his name -- gives people completely the wrong idea about him.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6858_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6858_67"></a>Tim is a man in the Casino. The description is &quot;You don't know Tim well. Kind of wall-flowerish. The only thing that seems to excite him is craps.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6859_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6859_67"></a>Penny is a woman in the Casino. The description is &quot;Loud. Brash. Hot, probably, if you can look past the loud and brash.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6860_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6860_67"></a>Rule for writing a paragraph about a narratively dull person:
            <br>
            &#160;&#160;&#160;&#160;let is-are-n be &quot;is&quot;;
            <br>
            &#160;&#160;&#160;&#160;if the number of unmentioned narratively dull people is not 1:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let is-are-n be &quot;are&quot;;
            <br>
            &#160;&#160;&#160;&#160;say &quot;[A list of unmentioned narratively dull people] [is-are-n] [one of]watching the croupier[or]following the spin of the roulette[or]chattering[at random][one of] breathlessly[or] impatiently[or][at random].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6861_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6861_67"></a>Penny-annoying is a fact.
            <br>
            &#160;&#160;&#160;&#160;It is ready to learn.
            <br>
            &#160;&#160;&#160;&#160;The narration is &quot;[if looking]Penny grimaces at you-- [end if]Penny is the same woman who stepped on your toe in the buffet line. The third time, she blurted, 'You have big shoes, don't you?'&quot;
            <br>
            &#160;&#160;&#160;&#160;Penny conveys penny-annoying.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6862_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6862_67"></a>lipstick-smudges is a fact.
            <br>
            &#160;&#160;&#160;&#160;It is ready to learn.
            <br>
            &#160;&#160;&#160;&#160;The narration is &quot;There are a couple of smudges of coral-colored lipstick on the collar.&quot;
            <br>
            &#160;&#160;&#160;&#160;The ludicrous shirt conveys lipstick-smudges.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6863_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6863_67"></a>penny-wears-coral is a fact.
            <br>
            &#160;&#160;&#160;&#160;It follows penny-annoying.
            <br>
            &#160;&#160;&#160;&#160;The narration is &quot;[if looking]Penny catches your eye again. [end if]The bright coral lipstick was really not a wise choice.&quot;
            <br>
            &#160;&#160;&#160;&#160;Penny conveys penny-wears-coral.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6864_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6864_67"></a>Affair-with-penny is a fact.
            <br>
            &#160;&#160;&#160;&#160;It follows lipstick-smudges and penny-wears-coral.
            <br>
            &#160;&#160;&#160;&#160;The narration is &quot;You avoid [if examining Frince]his[otherwise]Frince's[end if] eye. You need some time to adjust to the image of him making out with Penny in a storage closet before you can talk to him without appalled giggling.&quot;
            <br>
            &#160;&#160;&#160;&#160;Frince conveys affair-with-Penny.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c6865_67"-->
            <blockquote class="code"><p class="quoted"><a id="c6865_67"></a>Test me with &quot;x penny / x frince / x shirt / look&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <hr>
    </div>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="doc312.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="doc314.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
