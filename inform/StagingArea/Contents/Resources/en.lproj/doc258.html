<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_WI.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>16.15. Varying which table to look at</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "Varying which table to look at"-->
    <!--SEARCH SECTION "16.15"-->
    <!--SEARCH SORT "000-016-015-000"-->
    <!--START IGNORE 257-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="doc257.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 16: Tables</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="doc259.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
    <p class="sectionheading">ยง16.15. Varying which table to look at</p>
    <p>So far, we have always used fixed table names when referring to tables: for instance in source like &quot;sort the Table of Recent Monarchs in accession order&quot;, we refer to the &quot;Table of Recent Monarchs&quot;, a definite and explicitly named table.</p>
    <p>With a little care, however, we are allowed to have variables which themselves hold the names of tables. This opens up the possibility of more elaborate ways of storing and interconnecting information in table form, but is probably best avoided until it becomes necessary.</p>
    <p>For example, suppose we have two different tables with the same basic structure:</p>
    <!--START CODE "c5395"-->
    <blockquote class="code"><p class="quoted"><a id="c5395"></a><a href="javascript:pasteCode('Table 1 - Nifty Opening Plays in US Scrabble[=0x000A=]word[=0x0009=]score[=0x000A=][=0x0022=]muzjiks[=0x0022=][=0x0009=]128[=0x000A=][=0x000A=]Table 2 - Nifty Opening Plays in UK Scrabble[=0x000A=]word[=0x0009=]score[=0x000A=][=0x0022=]quartzy[=0x0022=][=0x0009=]126[=0x000A=][=0x0022=]squeezy[=0x0022=][=0x0009=]126[=0x000A=][=0x000A=][We could then record which one of these tables to use in a variable:][=0x000A=][=0x000A=]The lexicon is a table name that varies. The lexicon is Table 1.[=0x000A=][=0x000A=][Note that for this purpose, the kind of value is a special kind called [=0x0022=]table name[=0x0022=], not [=0x0022=]table[=0x0022=]. (The word [=0x0022=]table[=0x0022=] already has too many meanings and we must be careful to avoid ambiguities here.) We could make use of this as follows, for instance:][=0x000A=][=0x000A=]To flip tables:[=0x000A=][=0x0009=]say [=0x0022=]You exchange dictionaries, lexically crossing the Atlantic. [=0x0022=];[=0x000A=][=0x0009=]if the lexicon is Table 1, now the lexicon is Table 2;[=0x000A=][=0x0009=]otherwise now the lexicon is Table 1;[=0x000A=][=0x0009=]choose a random row in the lexicon;[=0x000A=][=0x0009=]say [=0x0022=]Did you know that according to [the lexicon], [word entry] scores [score entry]?[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> Table 1 - Nifty Opening Plays in US Scrabble
    <br>
    </p>
    </blockquote>
    <table class="codetable">
        <tr>
            <td class="quotedtablecell">
                <p class="quoted">word</p>

            </td>
            <td class="quotedtablecell">
                <p class="quoted">score</p>

            </td>
        </tr>
        <tr>
            <td class="quotedtablecell">
                <p class="quoted">&quot;muzjiks&quot;</p>

            </td>
            <td class="quotedtablecell">
                <p class="quoted">128</p>

            </td>
        </tr>
    </table>
    <blockquote><p></p>
    </blockquote>
    <!--END CODE-->
    <!--START CODE "c5396"-->
    <blockquote class="code"><p class="quoted"><a id="c5396"></a>Table 2 - Nifty Opening Plays in UK Scrabble
    <br>
    </p>
    </blockquote>
    <table class="codetable">
        <tr>
            <td class="quotedtablecell">
                <p class="quoted">word</p>

            </td>
            <td class="quotedtablecell">
                <p class="quoted">score</p>

            </td>
        </tr>
        <tr>
            <td class="quotedtablecell">
                <p class="quoted">&quot;quartzy&quot;</p>

            </td>
            <td class="quotedtablecell">
                <p class="quoted">126</p>

            </td>
        </tr>
        <tr>
            <td class="quotedtablecell">
                <p class="quoted">&quot;squeezy&quot;</p>

            </td>
            <td class="quotedtablecell">
                <p class="quoted">126</p>

            </td>
        </tr>
    </table>
    <blockquote><p></p>
    </blockquote>
    <!--END CODE-->
    <p>We could then record which one of these tables to use in a variable:</p>
    <!--START CODE "c5397"-->
    <blockquote class="code"><p class="quoted"><a id="c5397"></a>The lexicon is a table name that varies. The lexicon is Table 1.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Note that for this purpose, the kind of value is a special kind called &quot;table name&quot;, not &quot;table&quot;. (The word &quot;table&quot; already has too many meanings and we must be careful to avoid ambiguities here.) We could make use of this as follows, for instance:</p>
    <!--START CODE "c5398"-->
    <blockquote class="code"><p class="quoted"><a id="c5398"></a>To flip tables:
    <br>
    &#160;&#160;&#160;&#160;say &quot;You exchange dictionaries, lexically crossing the Atlantic. &quot;;
    <br>
    &#160;&#160;&#160;&#160;if the lexicon is Table 1, now the lexicon is Table 2;
    <br>
    &#160;&#160;&#160;&#160;otherwise now the lexicon is Table 1;
    <br>
    &#160;&#160;&#160;&#160;choose a random row in the lexicon;
    <br>
    &#160;&#160;&#160;&#160;say &quot;Did you know that according to [the lexicon], [word entry] scores [score entry]?&quot;
    </p>
    </blockquote>
    <!--END CODE-->
    <p>which produces text such as</p>
    <!--START CODE "c5399"-->
    <blockquote class="code"><p class="quoted"><a id="c5399"></a>You exchange dictionaries, lexically crossing the Atlantic. Did you know that according to Table 1 - Nifty Opening Plays in US Scrabble, muzjiks scores 128?
    </p>
    </blockquote>
    <!--END CODE-->
    <hr>
    <div class="bookexamples">
        <p class="chapterheading"></p>
        <!--START EXAMPLE "282: Farewell" "e129"-->
        <a id="e129"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example129'); return false;"><b>282</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example129'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Farewell</span></b></a><br>
                    People who respond to conversational gambits, summarize what they said before if asked again, and provide recap of conversation that is past.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="Rdoc54.html#e129"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example129" style="display: none;">
            <p>We begin with the idea that each person comes with their own table of things to say:</p>
            <!--START CODE "c5400_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5400_129"></a><a href="javascript:pasteCode('[=0x0022=]Farewell[=0x0022=][=0x000A=][=0x000A=]A person has a table name called conversation.[=0x000A=][=0x000A=]Instead of asking someone about something:[=0x000A=][=0x0009=]let the source be the conversation of the noun;[=0x000A=][=0x0009=]if topic understood is a topic listed in source:[=0x000A=][=0x0009=][=0x0009=]if there is a turn stamp entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The noun] has already told you that [summary entry].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now turn stamp entry is the turn count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] stares at you blankly.[=0x0022=][=0x000A=][=0x000A=][For the sake of simplicity, we[=0x0027=]ll conflate asking and telling here, though it would certainly be possible to have a more complex implementation if we want the characters to be told things as well.][=0x000A=][=0x000A=]Instead of telling someone about something:[=0x000A=][=0x0009=]try asking the noun about it.[=0x000A=][=0x000A=][Now we might want to add a recap command to review conversation that has already occurred.][=0x000A=][=0x000A=]Definition: a person is other if it is not the player.[=0x000A=][=0x000A=]Understand [=0x0022=]recap[=0x0022=] or [=0x0022=]recall[=0x0022=] or [=0x0022=]review[=0x0022=] as recalling conversations.[=0x000A=][=0x000A=]Recalling conversations is an action applying to nothing.[=0x000A=][=0x000A=][Since we[=0x0027=]ve been recording the turn count of each conversation bit, we can even present these in order by sorting the tables first.][=0x000A=][=0x000A=]Carry out recalling conversations:[=0x000A=][=0x0009=]repeat with speaker running through other people:[=0x000A=][=0x0009=][=0x0009=]let source be the conversation of the speaker;[=0x000A=][=0x0009=][=0x0009=]sort source in turn stamp order;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The speaker] has so far told you: [line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]let index be 0;[=0x000A=][=0x0009=][=0x0009=]repeat through source:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if there is a turn stamp entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]let index be 1;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]  [summary entry][line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if index is 0, say [=0x0022=]  absolutely nothing[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say conditional paragraph break.[=0x000A=][=0x000A=][Now it remains only to create a couple of characters and provide them both with something to say:][=0x000A=][=0x000A=] The Farewell Bend Cafe is a room. [=0x0022=]Beautiful Farewell Bend, Idaho -- or is it Oregon? An almost-abandoned truckstop, in any case, on one of those interminable American east-west highways.[=0x0022=][=0x000A=][=0x000A=]Tina is a woman in the Farewell Bend Cafe. The conversation of Tina is the Table of Tina[=0x0027=]s Chatter. [=0x0022=]Tina the waitress is slowly pouring coffee from the pot with a black neck into the pot with an orange neck.[=0x0022=][=0x000A=][=0x000A=]George is a man in the Farewell Bend Cafe. The conversation of George is the Table of George[=0x0027=]s Chatter. [=0x0022=]There is also a large man at table five. The tattoo on his arm says George. For the moment we will assume that it is his own name and not someone else[=0x0027=]s.[=0x0022=][=0x000A=][=0x000A=]Table of Tina[=0x0027=]s Chatter[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x000A=][=0x0022=]aasvogel[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Oh, it[=0x0027=]s a vulture.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that an aasvogel is a vulture[=0x0022=][=0x0009=]a number[=0x000A=][=0x0022=]acaudate[=0x0022=][=0x0009=][=0x0022=]She shrugs, mid-pour. [=0x0027=]Means something doesn[=0x0027=]t have a tail.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that acaudate means [=0x0027=]tailless[=0x0027=][=0x0022=][=0x0009=]--[=0x000A=][=0x0022=]absorptiometer[=0x0022=][=0x0009=][=0x0022=][=0x0027=]It[=0x0027=]s a thing that measures the solubility of gases in a liquid,[=0x0027=] she explains gently, as to a child.[=0x0022=][=0x0009=][=0x0022=]that an absorptiometer measures solubility of gasses in a liquid[=0x0022=][=0x0009=]--[=0x000A=][=0x000A=]Table of George[=0x0027=]s Chatter[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x000A=][=0x0022=]baccaceous[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Something that has or bears berries,[=0x0027=] says George, without looking up.[=0x0022=][=0x0009=][=0x0022=]that baccaceous means berry-bearing or berry-like[=0x0022=][=0x0009=]a number[=0x000A=][=0x0022=]bagheera[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Oh, that[=0x0027=]d be a velvet-like textile.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that bagheera is a velvet-like textile[=0x0022=][=0x0009=]--[=0x000A=][=0x0022=]balistarius[=0x0022=][=0x0009=][=0x0022=][=0x0027=]That[=0x0027=]s a crossbow-man,[=0x0027=] George replies instantly.[=0x0022=][=0x0009=][=0x0022=]that a balistarius is a crossbow-man[=0x0022=][=0x0009=]--[=0x000A=][=0x000A=][A word of warning: this system does assume that every person in the game has a conversation table defined. If that were not the case, we would have to be a bit more careful.][=0x000A=][=0x000A=][As always, we can override specific words, too:][=0x000A=][=0x000A=]Instead of asking Tina about [=0x0022=]advertisement[=0x0022=] for the first time:[=0x000A=][=0x0009=]say [=0x0022=]Tina looks embarrassed. [=0x0027=]Of course! I almost forgot.[=0x0027=] She hands you a brochure.[=0x0022=];[=0x000A=][=0x0009=]move the brochure to the player.[=0x000A=][=0x000A=]The encyclopedia sales brochure is a thing. The description is [=0x0022=]A glossy flyer indicating that you can receive a free Volume A-Aalto of the New Idahoan Encyclopedia Set if you send back the business reply card, and then have the option of purchasing the remaining volumes at a very very reasonable price.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]recap / ask tina about aasvogel / recap / ask george about baccaceous / ask tina about absorptiometer / recap / ask tina about advertisement / read brochure[=0x0022=].[=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Farewell[=0x0022=][=0x000A=][=0x000A=]A person has a table name called conversation.[=0x000A=][=0x000A=]Instead of asking someone about something:[=0x000A=][=0x0009=]let the source be the conversation of the noun;[=0x000A=][=0x0009=]if topic understood is a topic listed in source:[=0x000A=][=0x0009=][=0x0009=]if there is a turn stamp entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The noun] has already told you that [summary entry].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now turn stamp entry is the turn count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] stares at you blankly.[=0x0022=][=0x000A=][=0x000A=][For the sake of simplicity, we[=0x0027=]ll conflate asking and telling here, though it would certainly be possible to have a more complex implementation if we want the characters to be told things as well.][=0x000A=][=0x000A=]Instead of telling someone about something:[=0x000A=][=0x0009=]try asking the noun about it.[=0x000A=][=0x000A=][Now we might want to add a recap command to review conversation that has already occurred.][=0x000A=][=0x000A=]Definition: a person is other if it is not the player.[=0x000A=][=0x000A=]Understand [=0x0022=]recap[=0x0022=] or [=0x0022=]recall[=0x0022=] or [=0x0022=]review[=0x0022=] as recalling conversations.[=0x000A=][=0x000A=]Recalling conversations is an action applying to nothing.[=0x000A=][=0x000A=][Since we[=0x0027=]ve been recording the turn count of each conversation bit, we can even present these in order by sorting the tables first.][=0x000A=][=0x000A=]Carry out recalling conversations:[=0x000A=][=0x0009=]repeat with speaker running through other people:[=0x000A=][=0x0009=][=0x0009=]let source be the conversation of the speaker;[=0x000A=][=0x0009=][=0x0009=]sort source in turn stamp order;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The speaker] has so far told you: [line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]let index be 0;[=0x000A=][=0x0009=][=0x0009=]repeat through source:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if there is a turn stamp entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]let index be 1;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]  [summary entry][line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if index is 0, say [=0x0022=]  absolutely nothing[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say conditional paragraph break.[=0x000A=][=0x000A=][Now it remains only to create a couple of characters and provide them both with something to say:][=0x000A=][=0x000A=] The Farewell Bend Cafe is a room. [=0x0022=]Beautiful Farewell Bend, Idaho -- or is it Oregon? An almost-abandoned truckstop, in any case, on one of those interminable American east-west highways.[=0x0022=][=0x000A=][=0x000A=]Tina is a woman in the Farewell Bend Cafe. The conversation of Tina is the Table of Tina[=0x0027=]s Chatter. [=0x0022=]Tina the waitress is slowly pouring coffee from the pot with a black neck into the pot with an orange neck.[=0x0022=][=0x000A=][=0x000A=]George is a man in the Farewell Bend Cafe. The conversation of George is the Table of George[=0x0027=]s Chatter. [=0x0022=]There is also a large man at table five. The tattoo on his arm says George. For the moment we will assume that it is his own name and not someone else[=0x0027=]s.[=0x0022=][=0x000A=][=0x000A=]Table of Tina[=0x0027=]s Chatter[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x000A=][=0x0022=]aasvogel[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Oh, it[=0x0027=]s a vulture.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that an aasvogel is a vulture[=0x0022=][=0x0009=]a number[=0x000A=][=0x0022=]acaudate[=0x0022=][=0x0009=][=0x0022=]She shrugs, mid-pour. [=0x0027=]Means something doesn[=0x0027=]t have a tail.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that acaudate means [=0x0027=]tailless[=0x0027=][=0x0022=][=0x0009=]--[=0x000A=][=0x0022=]absorptiometer[=0x0022=][=0x0009=][=0x0022=][=0x0027=]It[=0x0027=]s a thing that measures the solubility of gases in a liquid,[=0x0027=] she explains gently, as to a child.[=0x0022=][=0x0009=][=0x0022=]that an absorptiometer measures solubility of gasses in a liquid[=0x0022=][=0x0009=]--[=0x000A=][=0x000A=]Table of George[=0x0027=]s Chatter[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x000A=][=0x0022=]baccaceous[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Something that has or bears berries,[=0x0027=] says George, without looking up.[=0x0022=][=0x0009=][=0x0022=]that baccaceous means berry-bearing or berry-like[=0x0022=][=0x0009=]a number[=0x000A=][=0x0022=]bagheera[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Oh, that[=0x0027=]d be a velvet-like textile.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that bagheera is a velvet-like textile[=0x0022=][=0x0009=]--[=0x000A=][=0x0022=]balistarius[=0x0022=][=0x0009=][=0x0022=][=0x0027=]That[=0x0027=]s a crossbow-man,[=0x0027=] George replies instantly.[=0x0022=][=0x0009=][=0x0022=]that a balistarius is a crossbow-man[=0x0022=][=0x0009=]--[=0x000A=][=0x000A=][A word of warning: this system does assume that every person in the game has a conversation table defined. If that were not the case, we would have to be a bit more careful.][=0x000A=][=0x000A=][As always, we can override specific words, too:][=0x000A=][=0x000A=]Instead of asking Tina about [=0x0022=]advertisement[=0x0022=] for the first time:[=0x000A=][=0x0009=]say [=0x0022=]Tina looks embarrassed. [=0x0027=]Of course! I almost forgot.[=0x0027=] She hands you a brochure.[=0x0022=];[=0x000A=][=0x0009=]move the brochure to the player.[=0x000A=][=0x000A=]The encyclopedia sales brochure is a thing. The description is [=0x0022=]A glossy flyer indicating that you can receive a free Volume A-Aalto of the New Idahoan Encyclopedia Set if you send back the business reply card, and then have the option of purchasing the remaining volumes at a very very reasonable price.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]recap / ask tina about aasvogel / recap / ask george about baccaceous / ask tina about absorptiometer / recap / ask tina about advertisement / read brochure[=0x0022=].[=0x000A=]\n', 'Example - Farewell')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Farewell&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5401_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5401_129"></a>A person has a table name called conversation.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5402_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5402_129"></a>Instead of asking someone about something:
            <br>
            &#160;&#160;&#160;&#160;let the source be the conversation of the noun;
            <br>
            &#160;&#160;&#160;&#160;if topic understood is a topic listed in source:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a turn stamp entry:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] has already told you that [summary entry].&quot;;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now turn stamp entry is the turn count;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;;
            <br>
            &#160;&#160;&#160;&#160;otherwise:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] stares at you blankly.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>For the sake of simplicity, we'll conflate asking and telling here, though it would certainly be possible to have a more complex implementation if we want the characters to be told things as well.</p>
            <!--START CODE "c5403_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5403_129"></a>Instead of telling someone about something:
            <br>
            &#160;&#160;&#160;&#160;try asking the noun about it.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Now we might want to add a recap command to review conversation that has already occurred.</p>
            <!--START CODE "c5404_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5404_129"></a>Definition: a person is other if it is not the player.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5405_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5405_129"></a>Understand &quot;recap&quot; or &quot;recall&quot; or &quot;review&quot; as recalling conversations.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5406_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5406_129"></a>Recalling conversations is an action applying to nothing.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Since we've been recording the turn count of each conversation bit, we can even present these in order by sorting the tables first.</p>
            <!--START CODE "c5407_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5407_129"></a>Carry out recalling conversations:
            <br>
            &#160;&#160;&#160;&#160;repeat with speaker running through other people:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let source be the conversation of the speaker;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sort source in turn stamp order;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The speaker] has so far told you: [line break]&quot;;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let index be 0;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat through source:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a turn stamp entry:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let index be 1;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [summary entry][line break]&quot;;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is 0, say &quot;  absolutely nothing[line break]&quot;;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say conditional paragraph break.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Now it remains only to create a couple of characters and provide them both with something to say:</p>
            <!--START CODE "c5408_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5408_129"></a> The Farewell Bend Cafe is a room. &quot;Beautiful Farewell Bend, Idaho -- or is it Oregon? An almost-abandoned truckstop, in any case, on one of those interminable American east-west highways.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5409_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5409_129"></a>Tina is a woman in the Farewell Bend Cafe. The conversation of Tina is the Table of Tina's Chatter. &quot;Tina the waitress is slowly pouring coffee from the pot with a black neck into the pot with an orange neck.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5410_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5410_129"></a>George is a man in the Farewell Bend Cafe. The conversation of George is the Table of George's Chatter. &quot;There is also a large man at table five. The tattoo on his arm says George. For the moment we will assume that it is his own name and not someone else's.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5411_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5411_129"></a>Table of Tina's Chatter
            <br>
            </p>
            </blockquote>
            <table class="codetable">
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">topic</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">reply</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">summary</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">turn stamp</p>

                    </td>
                </tr>
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;aasvogel&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;'Oh, it's a vulture.'&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;that an aasvogel is a vulture&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">a number</p>

                    </td>
                </tr>
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;acaudate&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;She shrugs, mid-pour. 'Means something doesn't have a tail.'&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;that acaudate means 'tailless'&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">--</p>

                    </td>
                </tr>
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;absorptiometer&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;'It's a thing that measures the solubility of gases in a liquid,' she explains gently, as to a child.&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;that an absorptiometer measures solubility of gasses in a liquid&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">--</p>

                    </td>
                </tr>
            </table>
            <blockquote><p></p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5412_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5412_129"></a>Table of George's Chatter
            <br>
            </p>
            </blockquote>
            <table class="codetable">
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">topic</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">reply</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">summary</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">turn stamp</p>

                    </td>
                </tr>
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;baccaceous&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;'Something that has or bears berries,' says George, without looking up.&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;that baccaceous means berry-bearing or berry-like&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">a number</p>

                    </td>
                </tr>
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;bagheera&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;'Oh, that'd be a velvet-like textile.'&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;that bagheera is a velvet-like textile&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">--</p>

                    </td>
                </tr>
                <tr>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;balistarius&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;'That's a crossbow-man,' George replies instantly.&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">&quot;that a balistarius is a crossbow-man&quot;</p>

                    </td>
                    <td class="quotedtablecell">
                        <p class="quoted">--</p>

                    </td>
                </tr>
            </table>
            <blockquote><p></p>
            </blockquote>
            <!--END CODE-->
            <p>A word of warning: this system does assume that every person in the game has a conversation table defined. If that were not the case, we would have to be a bit more careful.</p>
            <p>As always, we can override specific words, too:</p>
            <!--START CODE "c5413_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5413_129"></a>Instead of asking Tina about &quot;advertisement&quot; for the first time:
            <br>
            &#160;&#160;&#160;&#160;say &quot;Tina looks embarrassed. 'Of course! I almost forgot.' She hands you a brochure.&quot;;
            <br>
            &#160;&#160;&#160;&#160;move the brochure to the player.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5414_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5414_129"></a>The encyclopedia sales brochure is a thing. The description is &quot;A glossy flyer indicating that you can receive a free Volume A-Aalto of the New Idahoan Encyclopedia Set if you send back the business reply card, and then have the option of purchasing the remaining volumes at a very very reasonable price.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c5415_129"-->
            <blockquote class="code"><p class="quoted"><a id="c5415_129"></a>Test me with &quot;recap / ask tina about aasvogel / recap / ask george about baccaceous / ask tina about absorptiometer / recap / ask tina about advertisement / read brochure&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <hr>
    </div>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="doc257.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="doc259.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
