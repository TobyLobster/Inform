<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_WI.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>3.2. Rooms and the map</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "Rooms and the map"-->
    <!--SEARCH SECTION "3.2"-->
    <!--SEARCH SORT "000-003-002-000"-->
    <!--START IGNORE 24-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="doc24.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 3: Things</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="doc26.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
    <p class="sectionheading">ยง3.2. Rooms and the map</p>
    <p>Rooms are joined together at their edges by &quot;map connections&quot;, most of which are pathways in one of the eight cardinal compass directions: north, northeast (written without a hyphen), east, southeast, south, southwest, west, northwest. We also have up and down, suitable for staircases or ladders. In real life, people are seldom conscious of their compass bearing when walking around buildings, but it makes a concise and unconfusing way for the player to say where to go next, so is generally accepted as a convention of the genre.</p>
    <p>Two more directions are provided by Inform: &quot;inside&quot; and &quot;outside&quot;. These are best used when one location is, say, a meadow and the other is a woodcutter's hut in the middle of it; we might then say</p>
    <!--START CODE "c97"-->
    <blockquote class="code"><p class="quoted"><a id="c97"></a>Inside from the Meadow is the woodcutter's hut.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>The &quot;from&quot; is important, as it clarifies that we intend to link two different locations, not to create an item - the hut - in a single location - the meadow.</p>
    <p>A problem which sometimes arises when laying out maps is that Inform allows short forms of room names to be used as abbreviations. This is usually a good idea, but has unfortunate results if we write:</p>
    <!--START CODE "c98"-->
    <blockquote class="code"><p class="quoted"><a id="c98"></a>The Airport Road is west of the Fish Packing Plant. The Airport is west of the Airport Road.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>...because &quot;Airport&quot; is taken as a reference to &quot;Airport Road&quot;, so Inform makes only two locations, one of which supernaturally leads to itself. We can avoid this by writing:</p>
    <!--START CODE "c99"-->
    <blockquote class="code"><p class="quoted"><a id="c99"></a>The Airport Road is west of the Fish Packing Plant. A room called the Airport is west of the Airport Road.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Using &quot;called&quot; is often a good way to specify something whose name might give rise to confusion otherwise. It always makes something new, and it is also neatly concise, because we can establish something's kind and name in the same sentence. As another example, suppose we want to create a room called &quot;South of the Hut&quot;, to south of the Hut. We can't do so like this:</p>
    <!--START CODE "c100"-->
    <blockquote class="code"><p class="quoted"><a id="c100"></a>South of the Hut is a room. South of the Hut is south of the Hut.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>...because Inform will read that first sentence as placing a (nameless) room to the south of a room called &quot;Hut&quot;. Once again &quot;called&quot; can save the day:</p>
    <!--START CODE "c101"-->
    <blockquote class="code"><p class="quoted"><a id="c101"></a>South of the Hut is a room called South of the Hut.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>It is best to use &quot;called&quot; in the simplest way possible, and in particular, best not to use &quot;called&quot; twice in the same sentence. Consider:</p>
    <!--START CODE "c102"-->
    <blockquote class="code"><p class="quoted"><a id="c102"></a>The kitchen cabinet contains a container called a mixing bowl and a portable supporter called a platter.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>It is unlikely that anyone would want to name something &quot;a mixing bowl and a portable supporter called a platter&quot;, but not impossible, and Inform tends not to be a good judge of what is likely.</p>
    <p>(If we really want to get rid of this issue once and for all, starting the source text with the use option &quot;Use unabbreviated object names.&quot; will do it, but the effect is drastic. This instructs Inform not to recognise names other than in full. For example:</p>
    <!--START CODE "c103"-->
    <blockquote class="code"><p class="quoted"><a id="c103"></a>West of the Kitchen is the Roaring Range. South of the Range is the Pantry.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>is ordinarily read by Inform as constructing three rooms (Kitchen, Roaring Range, Pantry); but with this use option set, it makes four (Kitchen, Roaring Range, Range, Pantry), in two disconnected pieces of map. Handle with care.)</p>
    <hr>
    <div class="bookexamples">
        <p class="chapterheading"></p>
        <!--START EXAMPLE "5: Port Royal 1" "e285"-->
        <a id="e285"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example285'); return false;"><b>5</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example285'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 1</span></b></a><br>
                    A partial implementation of Port Royal, Jamaica, set before the earthquake of 1692 demolished large portions of the city.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="Rdoc9.html#e285"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example285" style="display: none;">
            <!--START CODE "c104_285"-->
            <blockquote class="code"><p class="quoted"><a id="c104_285"></a><a href="javascript:pasteCode('[=0x0022=]1691[=0x0022=][=0x000A=][=0x000A=]Fort James is a room. [=0x0022=]The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.[=0x0022=][=0x000A=][=0x000A=][Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.][=0x000A=][=0x000A=][For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:][=0x000A=][=0x000A=]Thames Street End is south of Fort James. [=0x0022=]The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.[=0x0022=][=0x000A=][=0x000A=]Water Lane is east of Thames Street End. [=0x0022=]Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.[=0x000A=][=0x000A=]Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.[=0x0022=][=0x000A=][=0x000A=][If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using [=0x0022=]called[=0x0022=]:][=0x000A=][=0x000A=]East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description [=0x0022=]To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.[=0x0022=][=0x000A=][=0x000A=]The Private Alley is south of Thames Street at the Wherry Bridge. [=0x0022=]You[=0x0027=]re just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.[=0x0022=][=0x000A=][=0x000A=][And now we get [=0x0022=]inside[=0x0022=], which generates a space treated as its own area on the map.][=0x000A=][=0x000A=]The Feathers is inside from the Private Alley.  [=0x0022=]Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There[=0x0027=]s a room upstairs for those wanting to stay the night.[=0x0022=] The Feathers Bedroom is above the Feathers.[=0x000A=][=0x000A=][And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.][=0x000A=][=0x000A=]Lime Street is south of Thames Street End.[=0x000A=][=0x000A=][For efficiency, we can also write multiple sets of connections at once:][=0x000A=][=0x000A=]Queen Street East is east of Queen Street Middle and south of Private Alley.[=0x000A=][=0x000A=][Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author[=0x0027=]s benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)][=0x000A=][=0x000A=][The following Test command allows us to type TEST ME and explore the map we just devised:][=0x000A=][=0x000A=]Test me with [=0x0022=]s / e / e / s / in[=0x0022=].[=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]1691[=0x0022=][=0x000A=][=0x000A=]Fort James is a room. [=0x0022=]The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.[=0x0022=][=0x000A=][=0x000A=][Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.][=0x000A=][=0x000A=][For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:][=0x000A=][=0x000A=]Thames Street End is south of Fort James. [=0x0022=]The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.[=0x0022=][=0x000A=][=0x000A=]Water Lane is east of Thames Street End. [=0x0022=]Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.[=0x000A=][=0x000A=]Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.[=0x0022=][=0x000A=][=0x000A=][If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using [=0x0022=]called[=0x0022=]:][=0x000A=][=0x000A=]East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description [=0x0022=]To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.[=0x0022=][=0x000A=][=0x000A=]The Private Alley is south of Thames Street at the Wherry Bridge. [=0x0022=]You[=0x0027=]re just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.[=0x0022=][=0x000A=][=0x000A=][And now we get [=0x0022=]inside[=0x0022=], which generates a space treated as its own area on the map.][=0x000A=][=0x000A=]The Feathers is inside from the Private Alley.  [=0x0022=]Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There[=0x0027=]s a room upstairs for those wanting to stay the night.[=0x0022=] The Feathers Bedroom is above the Feathers.[=0x000A=][=0x000A=][And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.][=0x000A=][=0x000A=]Lime Street is south of Thames Street End.[=0x000A=][=0x000A=][For efficiency, we can also write multiple sets of connections at once:][=0x000A=][=0x000A=]Queen Street East is east of Queen Street Middle and south of Private Alley.[=0x000A=][=0x000A=][Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author[=0x0027=]s benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)][=0x000A=][=0x000A=][The following Test command allows us to type TEST ME and explore the map we just devised:][=0x000A=][=0x000A=]Test me with [=0x0022=]s / e / e / s / in[=0x0022=].[=0x000A=]\n', 'Example - Port Royal 1')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;1691&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c105_285"-->
            <blockquote class="code"><p class="quoted"><a id="c105_285"></a>Fort James is a room. &quot;The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.</p>
            <p>For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:</p>
            <!--START CODE "c106_285"-->
            <blockquote class="code"><p class="quoted"><a id="c106_285"></a>Thames Street End is south of Fort James. &quot;The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c107_285"-->
            <blockquote class="code"><p class="quoted"><a id="c107_285"></a>Water Lane is east of Thames Street End. &quot;Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c108_285"-->
            <blockquote class="code"><p class="quoted"><a id="c108_285"></a>Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using &quot;called&quot;:</p>
            <!--START CODE "c109_285"-->
            <blockquote class="code"><p class="quoted"><a id="c109_285"></a>East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description &quot;To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c110_285"-->
            <blockquote class="code"><p class="quoted"><a id="c110_285"></a>The Private Alley is south of Thames Street at the Wherry Bridge. &quot;You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And now we get &quot;inside&quot;, which generates a space treated as its own area on the map.</p>
            <!--START CODE "c111_285"-->
            <blockquote class="code"><p class="quoted"><a id="c111_285"></a>The Feathers is inside from the Private Alley.  &quot;Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night.&quot; The Feathers Bedroom is above the Feathers.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.</p>
            <!--START CODE "c112_285"-->
            <blockquote class="code"><p class="quoted"><a id="c112_285"></a>Lime Street is south of Thames Street End.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>For efficiency, we can also write multiple sets of connections at once:</p>
            <!--START CODE "c113_285"-->
            <blockquote class="code"><p class="quoted"><a id="c113_285"></a>Queen Street East is east of Queen Street Middle and south of Private Alley.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author's benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)</p>
            <p>The following Test command allows us to type TEST ME and explore the map we just devised:</p>
            <!--START CODE "c114_285"-->
            <blockquote class="code"><p class="quoted"><a id="c114_285"></a>Test me with &quot;s / e / e / s / in&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "6: Up and Up" "e409"-->
        <a id="e409"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example409'); return false;"><b>6</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example409'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Up and Up</span></b></a><br>
                    Adding a short message as the player approaches a room, before the room description itself appears.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="Rdoc37.html#e409"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example409" style="display: none;">
            <p>Sometimes when a player moves from one room to another, we want to imply that a considerable amount of time elapses, or that something interesting occurs on the way. In that case, we might want to print more than just the room description itself. Here is how we might define a couple of rooms that are far apart:</p>
            <!--START CODE "c115_409"-->
            <blockquote class="code"><p class="quoted"><a id="c115_409"></a><a href="javascript:pasteCode('[=0x0022=]Up and Up[=0x0022=][=0x000A=][=0x000A=]The Plain of the Skull is below the Endless Tower. The description of the Plain of the Skull is [=0x0022=]A vast and trackless plain, enlivened only by the bones of those who have previously tried and failed to cross. Above you is the Endless Tower, which rises half-way to the moon.[=0x0022=][=0x000A=][=0x000A=]The description of the Endless Tower is [=0x0022=]From up here the Plain of the Skull seems only a small bald patch: the world is round and most of it is covered with trees. Far off to the southwest is a shimmering surface that might be water; but there are no signs of cities or civilizations, only the lizard-skeletons.[=0x0022=][=0x000A=][=0x000A=][And now we borrow from the instructions on Actions to create our actual message. [=0x0022=]Before...[=0x0022=] introduces a rule that occurs when the player tries to do something; in this case, we will make a Before rule for going to the tower.][=0x000A=][=0x000A=]Before going to the Endless Tower:[=0x000A=][=0x0009=]say [=0x0022=]You climb... and climb... and climb... The sun sets. The moon rises. The wind begins to blow. You continue to climb...[=0x0022=][=0x000A=][=0x000A=]The player carries a bit of harness. The description of the harness is [=0x0022=]A strip of worked leather and a loop of metal, scavenged from one of the skeletons on the plain. Without it, you might think your entire quest was in vain.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]look / up[=0x0022=].[=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Up and Up[=0x0022=][=0x000A=][=0x000A=]The Plain of the Skull is below the Endless Tower. The description of the Plain of the Skull is [=0x0022=]A vast and trackless plain, enlivened only by the bones of those who have previously tried and failed to cross. Above you is the Endless Tower, which rises half-way to the moon.[=0x0022=][=0x000A=][=0x000A=]The description of the Endless Tower is [=0x0022=]From up here the Plain of the Skull seems only a small bald patch: the world is round and most of it is covered with trees. Far off to the southwest is a shimmering surface that might be water; but there are no signs of cities or civilizations, only the lizard-skeletons.[=0x0022=][=0x000A=][=0x000A=][And now we borrow from the instructions on Actions to create our actual message. [=0x0022=]Before...[=0x0022=] introduces a rule that occurs when the player tries to do something; in this case, we will make a Before rule for going to the tower.][=0x000A=][=0x000A=]Before going to the Endless Tower:[=0x000A=][=0x0009=]say [=0x0022=]You climb... and climb... and climb... The sun sets. The moon rises. The wind begins to blow. You continue to climb...[=0x0022=][=0x000A=][=0x000A=]The player carries a bit of harness. The description of the harness is [=0x0022=]A strip of worked leather and a loop of metal, scavenged from one of the skeletons on the plain. Without it, you might think your entire quest was in vain.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]look / up[=0x0022=].[=0x000A=]\n', 'Example - Up and Up')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Up and Up&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c116_409"-->
            <blockquote class="code"><p class="quoted"><a id="c116_409"></a>The Plain of the Skull is below the Endless Tower. The description of the Plain of the Skull is &quot;A vast and trackless plain, enlivened only by the bones of those who have previously tried and failed to cross. Above you is the Endless Tower, which rises half-way to the moon.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c117_409"-->
            <blockquote class="code"><p class="quoted"><a id="c117_409"></a>The description of the Endless Tower is &quot;From up here the Plain of the Skull seems only a small bald patch: the world is round and most of it is covered with trees. Far off to the southwest is a shimmering surface that might be water; but there are no signs of cities or civilizations, only the lizard-skeletons.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And now we borrow from the instructions on Actions to create our actual message. &quot;Before...&quot; introduces a rule that occurs when the player tries to do something; in this case, we will make a Before rule for going to the tower.</p>
            <!--START CODE "c118_409"-->
            <blockquote class="code"><p class="quoted"><a id="c118_409"></a>Before going to the Endless Tower:
            <br>
            &#160;&#160;&#160;&#160;say &quot;You climb... and climb... and climb... The sun sets. The moon rises. The wind begins to blow. You continue to climb...&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c119_409"-->
            <blockquote class="code"><p class="quoted"><a id="c119_409"></a>The player carries a bit of harness. The description of the harness is &quot;A strip of worked leather and a loop of metal, scavenged from one of the skeletons on the plain. Without it, you might think your entire quest was in vain.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c120_409"-->
            <blockquote class="code"><p class="quoted"><a id="c120_409"></a>Test me with &quot;look / up&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "7: Starry Void" "e340"-->
        <a id="e340"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example340'); return false;"><b>7</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example340'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Starry Void</span></b></a><br>
                    Creating a booth that can be seen from the outside, opened and closed, and entered as a separate room.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="Rdoc10.html#e340"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example340" style="display: none;">
            <p>Sometimes we may want a room to be visible from the outside in one location, but treated as a separate location when we are inside. The simplest way to do this is to make the exterior form of the object into a door object, and to describe it differently from different vantage points. (Doors in general are described more fully in the Doors section of the Things chapter.)</p>
            <!--START CODE "c121_340"-->
            <blockquote class="code"><p class="quoted"><a id="c121_340"></a><a href="javascript:pasteCode('[=0x0022=]Starry Void[=0x0022=][=0x000A=][=0x000A=]The Center Ring is a room.[=0x000A=][=0x000A=]The magician[=0x0027=]s booth is a door. [=0x0022=][if the player is in Center Ring]A magician[=0x0027=]s booth stands in the corner, painted dark blue with glittering gold stars.[otherwise if the magician[=0x0027=]s booth is closed]A crack of light indicates the way back out to the center ring.[otherwise]The door stands open to the outside.[end if][=0x0022=].[=0x000A=][=0x000A=][Here we[=0x0027=]ve arranged for the booth to be described in the initial room description in different ways depending on where the player is when viewing it. We might like to do the same if the player takes a closer look:][=0x000A=][=0x000A=]Instead of examining the magician[=0x0027=]s booth in the Center Ring:[=0x000A=][=0x0009=]say [=0x0022=]It is dark blue and glittering with gold stars. [if the booth is open]The door currently stands open[otherwise]It has been firmly shut[end if].[=0x0022=][=0x000A=][=0x000A=]Instead of examining the magician[=0x0027=]s booth in the Starry Void:[=0x000A=][=0x0009=]say [=0x0022=]The booth door is [if the magician[=0x0027=]s booth is open]wide open[otherwise]shut, admitting only a thin crack of light[end if].[=0x0022=][=0x000A=][=0x000A=][And now we put it in place:][=0x000A=][=0x000A=]The magician[=0x0027=]s booth is inside from Center Ring and outside from Starry Void.[=0x000A=][=0x000A=][...and make sure that the booth-and-door object responds to all the names we have used for it in different places:][=0x000A=][=0x000A=]Understand [=0x0022=]door[=0x0022=] or [=0x0022=]of[=0x0022=] or [=0x0022=]the[=0x0022=] or [=0x0022=]light[=0x0022=] or [=0x0022=]crack[=0x0022=] or [=0x0022=]thin crack[=0x0022=] as the booth.[=0x000A=][=0x000A=]Test me with [=0x0022=]examine booth / open door of the booth / in / examine door / close door / look / examine crack of light[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Starry Void[=0x0022=][=0x000A=][=0x000A=]The Center Ring is a room.[=0x000A=][=0x000A=]The magician[=0x0027=]s booth is a door. [=0x0022=][if the player is in Center Ring]A magician[=0x0027=]s booth stands in the corner, painted dark blue with glittering gold stars.[otherwise if the magician[=0x0027=]s booth is closed]A crack of light indicates the way back out to the center ring.[otherwise]The door stands open to the outside.[end if][=0x0022=].[=0x000A=][=0x000A=][Here we[=0x0027=]ve arranged for the booth to be described in the initial room description in different ways depending on where the player is when viewing it. We might like to do the same if the player takes a closer look:][=0x000A=][=0x000A=]Instead of examining the magician[=0x0027=]s booth in the Center Ring:[=0x000A=][=0x0009=]say [=0x0022=]It is dark blue and glittering with gold stars. [if the booth is open]The door currently stands open[otherwise]It has been firmly shut[end if].[=0x0022=][=0x000A=][=0x000A=]Instead of examining the magician[=0x0027=]s booth in the Starry Void:[=0x000A=][=0x0009=]say [=0x0022=]The booth door is [if the magician[=0x0027=]s booth is open]wide open[otherwise]shut, admitting only a thin crack of light[end if].[=0x0022=][=0x000A=][=0x000A=][And now we put it in place:][=0x000A=][=0x000A=]The magician[=0x0027=]s booth is inside from Center Ring and outside from Starry Void.[=0x000A=][=0x000A=][...and make sure that the booth-and-door object responds to all the names we have used for it in different places:][=0x000A=][=0x000A=]Understand [=0x0022=]door[=0x0022=] or [=0x0022=]of[=0x0022=] or [=0x0022=]the[=0x0022=] or [=0x0022=]light[=0x0022=] or [=0x0022=]crack[=0x0022=] or [=0x0022=]thin crack[=0x0022=] as the booth.[=0x000A=][=0x000A=]Test me with [=0x0022=]examine booth / open door of the booth / in / examine door / close door / look / examine crack of light[=0x0022=].[=0x000A=][=0x000A=]\n', 'Example - Starry Void')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Starry Void&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c122_340"-->
            <blockquote class="code"><p class="quoted"><a id="c122_340"></a>The Center Ring is a room.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c123_340"-->
            <blockquote class="code"><p class="quoted"><a id="c123_340"></a>The magician's booth is a door. &quot;[if the player is in Center Ring]A magician's booth stands in the corner, painted dark blue with glittering gold stars.[otherwise if the magician's booth is closed]A crack of light indicates the way back out to the center ring.[otherwise]The door stands open to the outside.[end if]&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Here we've arranged for the booth to be described in the initial room description in different ways depending on where the player is when viewing it. We might like to do the same if the player takes a closer look:</p>
            <!--START CODE "c124_340"-->
            <blockquote class="code"><p class="quoted"><a id="c124_340"></a>Instead of examining the magician's booth in the Center Ring:
            <br>
            &#160;&#160;&#160;&#160;say &quot;It is dark blue and glittering with gold stars. [if the booth is open]The door currently stands open[otherwise]It has been firmly shut[end if].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c125_340"-->
            <blockquote class="code"><p class="quoted"><a id="c125_340"></a>Instead of examining the magician's booth in the Starry Void:
            <br>
            &#160;&#160;&#160;&#160;say &quot;The booth door is [if the magician's booth is open]wide open[otherwise]shut, admitting only a thin crack of light[end if].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And now we put it in place:</p>
            <!--START CODE "c126_340"-->
            <blockquote class="code"><p class="quoted"><a id="c126_340"></a>The magician's booth is inside from Center Ring and outside from Starry Void.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>...and make sure that the booth-and-door object responds to all the names we have used for it in different places:</p>
            <!--START CODE "c127_340"-->
            <blockquote class="code"><p class="quoted"><a id="c127_340"></a>Understand &quot;door&quot; or &quot;of&quot; or &quot;the&quot; or &quot;light&quot; or &quot;crack&quot; or &quot;thin crack&quot; as the booth.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c128_340"-->
            <blockquote class="code"><p class="quoted"><a id="c128_340"></a>Test me with &quot;examine booth / open door of the booth / in / examine door / close door / look / examine crack of light&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>A final nice touch, if we're so inclined, is to borrow from the Basic Actions chapter and make the player automatically open the booth door before trying to enter:</p>
            <!--START CODE "c129_340"-->
            <blockquote class="code"><p class="quoted"><a id="c129_340"></a><a href="javascript:pasteCode(' Before going through the closed magician[=0x0027=]s booth:[=0x000A=][=0x0009=]say [=0x0022=](first opening the door of the booth)[command clarification break][=0x0022=];[=0x000A=][=0x0009=]silently try opening the booth.[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject(' Before going through the closed magician[=0x0027=]s booth:[=0x000A=][=0x0009=]say [=0x0022=](first opening the door of the booth)[command clarification break][=0x0022=];[=0x000A=][=0x0009=]silently try opening the booth.[=0x000A=][=0x000A=]\n', 'Example - Starry Void')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp;  Before going through the closed magician's booth:
            <br>
            &#160;&#160;&#160;&#160;say &quot;(first opening the door of the booth)[command clarification break]&quot;;
            <br>
            &#160;&#160;&#160;&#160;silently try opening the booth.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>For the contrasting case of a space that is nested inside another place and is not its own room -- say a stall at an open-air market, or a rowboat on a lake -- see the example &quot;Tamed&quot;.</p>
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <hr>
    </div>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="doc24.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="doc26.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
