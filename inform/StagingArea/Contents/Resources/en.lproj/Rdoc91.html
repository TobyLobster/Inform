<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_RB.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>11.1. Start-Up Features</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "Start-Up Features"-->
    <!--SEARCH SECTION "11.1"-->
    <!--SEARCH SORT "001-011-001-000"-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="Rdoc90.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 11: Out Of World Actions and Effects</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="Rdoc92.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <p class="sectionheading">ยง11.1. Start-Up Features</p>
    <p>When the story file starts up, it often prints a short introductory passage of text (the &quot;overture&quot;) and then a heading describing itself, together with some version numbering (the &quot;banner&quot;). It is traditional that the banner must appear eventually (and one of the few requirements of the Inform licence is that the author acknowledge Inform somewhere, for which the banner is sufficient) but some designs call for a multi-turn prologue before the banner finally appears, and marks the start of play in earnest. <span class="boldface">Bikini Atoll</span> demonstrates this.</p>
    <p>If a story file represents the latest in a sequence of story files representing chapters in some larger narrative, it will need some way to pick up where its predecessor left off. This can be done with the aid of external files (in the Glulx format, at least). <span class="boldface">Alien Invasion Part 23</span> shows how.</p>
    <p>Another task we might want to perform a the beginning of play is to arrange any randomized features that are supposed to change from one playing to the next. We can add such instructions with &quot;When play begins&quot; rule, as in:</p>
    <!--START CODE "c15879"-->
    <blockquote class="code"><p class="quoted"><a id="c15879"></a>When play begins:
    <br>
    &#160;&#160;&#160;&#160;now the priceless treasure is in a random room.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Since we may want to do something a bit more complicated than this, <span class="boldface">Hatless</span> demonstrates effective and ineffective methods of distributing multiple objects (in this case, one randomly-selected hat per person).</p>
    <p class="crossreference"><a href="Rdoc9.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Map</b></a><i> for a way to generate a randomized maze at the start of play</i></p>
    <p class="crossreference"><a href="Rdoc68.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Food</b></a><i> for a way to choose a random piece of candy to be poisonous</i></p>
    <p class="crossreference"><a href="Rdoc47.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Getting Acquainted</b></a><i> for a way to choose a murderer from among the characters at the start of each story</i></p>
    <hr>
    <div class="bookexamples">
        <p class="chapterheading"></p>
        <!--START EXAMPLE "382: Bikini Atoll" "e35"-->
        <a id="e35"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example35'); return false;"><b>382</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example35'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bikini Atoll</span></b></a><br>
                    Delaying the banner for later.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="doc321.html#e35"><i>WI</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example35" style="display: none;">
            <!--START CODE "c15880_35"-->
            <blockquote class="code"><p class="quoted"><a id="c15880_35"></a><a href="javascript:pasteCode('[=0x0022=]Bikini Atoll[=0x0022=] by Edward Teller[=0x000A=][=0x000A=]The Hut and the Tropical Beach are rooms.[=0x000A=][=0x000A=]The conch shell is in the Hut. After taking the shell for the first time: say [=0x0022=]As you gather the oddly-warm conch shell into your arms, you experience a sudden flash of deja-vu...[banner text][=0x0022=]; move the player to the Tropical Beach.[=0x000A=][=0x000A=]Rule for printing the banner text when the player is not carrying the shell: do nothing.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / examine shell / get shell / look[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Bikini Atoll[=0x0022=] by Edward Teller[=0x000A=][=0x000A=]The Hut and the Tropical Beach are rooms.[=0x000A=][=0x000A=]The conch shell is in the Hut. After taking the shell for the first time: say [=0x0022=]As you gather the oddly-warm conch shell into your arms, you experience a sudden flash of deja-vu...[banner text][=0x0022=]; move the player to the Tropical Beach.[=0x000A=][=0x000A=]Rule for printing the banner text when the player is not carrying the shell: do nothing.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / examine shell / get shell / look[=0x0022=].[=0x000A=][=0x000A=]\n', 'Example - Bikini Atoll')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Bikini Atoll&quot; by Edward Teller
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15881_35"-->
            <blockquote class="code"><p class="quoted"><a id="c15881_35"></a>The Hut and the Tropical Beach are rooms.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15882_35"-->
            <blockquote class="code"><p class="quoted"><a id="c15882_35"></a>The conch shell is in the Hut. After taking the shell for the first time: say &quot;As you gather the oddly-warm conch shell into your arms, you experience a sudden flash of deja-vu...[banner text]&quot;; move the player to the Tropical Beach.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15883_35"-->
            <blockquote class="code"><p class="quoted"><a id="c15883_35"></a>Rule for printing the banner text when the player is not carrying the shell: do nothing.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15884_35"-->
            <blockquote class="code"><p class="quoted"><a id="c15884_35"></a>Test me with &quot;look / examine shell / get shell / look&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>(By tradition, and as a courtesy to all the people who have worked on Inform, authors ensure that the banner is printed some time near the beginning of each game played. So please only defer it, rather than suppress it altogether.)</p>
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "439: Alien Invasion Part 23" "e5"-->
        <a id="e5"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example5'); return false;"><b>439</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example5'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Alien Invasion Part 23</span></b></a><br>
                    Keeping a preference file that could be loaded by any game in a series.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="doc383.html#e5"><i>WI</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example5" style="display: none;">
            <p>Suppose that we have a series of games each of which allows the player to select a puzzle difficulty level. When the player plays a new game in the series, we want him to start out by default with the same difficulty level he faced earlier on, so we store this information in a small preferences file, as follows:</p>
            <!--START CODE "c15885_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15885_5"></a><a href="javascript:pasteCode('[=0x0022=]Alien Invasion Part 23[=0x0022=][=0x000A=][=0x000A=]A difficulty is a kind of value. The difficulties are easy, moderate, hard, and fiendish.[=0x000A=][=0x000A=]Understand [=0x0022=]use [difficulty] puzzles[=0x0022=] as selecting difficulty. Selecting difficulty is an action out of world, applying to one difficulty.[=0x000A=][=0x000A=]Carry out selecting difficulty:[=0x000A=][=0x0009=]choose row 1 in the Table of Preference Settings;[=0x000A=][=0x0009=]now challenge level entry is difficulty understood;[=0x000A=][=0x0009=]say [=0x0022=]Puzzles will be [challenge level entry] from now on.[=0x0022=][=0x000A=][=0x000A=]The File of Preferences is called [=0x0022=]prefs[=0x0022=].[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]if File of Preferences exists:[=0x000A=][=0x0009=][=0x0009=]read File of Preferences into the Table of Preference Settings;[=0x000A=][=0x0009=][=0x0009=]choose row 1 in the Table of Preference Settings;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](The current puzzle difficulty is set to [challenge level entry].)[=0x0022=][=0x000A=][=0x000A=]Check quitting the game:[=0x000A=][=0x0009=]write File of Preferences from the Table of Preference Settings.[=0x000A=][=0x000A=]Table of Preference Settings[=0x000A=]challenge level[=0x000A=]easy[=0x000A=][=0x000A=]The Sewer Junction is a room.[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Alien Invasion Part 23[=0x0022=][=0x000A=][=0x000A=]A difficulty is a kind of value. The difficulties are easy, moderate, hard, and fiendish.[=0x000A=][=0x000A=]Understand [=0x0022=]use [difficulty] puzzles[=0x0022=] as selecting difficulty. Selecting difficulty is an action out of world, applying to one difficulty.[=0x000A=][=0x000A=]Carry out selecting difficulty:[=0x000A=][=0x0009=]choose row 1 in the Table of Preference Settings;[=0x000A=][=0x0009=]now challenge level entry is difficulty understood;[=0x000A=][=0x0009=]say [=0x0022=]Puzzles will be [challenge level entry] from now on.[=0x0022=][=0x000A=][=0x000A=]The File of Preferences is called [=0x0022=]prefs[=0x0022=].[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]if File of Preferences exists:[=0x000A=][=0x0009=][=0x0009=]read File of Preferences into the Table of Preference Settings;[=0x000A=][=0x0009=][=0x0009=]choose row 1 in the Table of Preference Settings;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](The current puzzle difficulty is set to [challenge level entry].)[=0x0022=][=0x000A=][=0x000A=]Check quitting the game:[=0x000A=][=0x0009=]write File of Preferences from the Table of Preference Settings.[=0x000A=][=0x000A=]Table of Preference Settings[=0x000A=]challenge level[=0x000A=]easy[=0x000A=][=0x000A=]The Sewer Junction is a room.[=0x000A=][=0x000A=]\n', 'Example - Alien Invasion Part 23')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Alien Invasion Part 23&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15886_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15886_5"></a>A difficulty is a kind of value. The difficulties are easy, moderate, hard, and fiendish.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15887_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15887_5"></a>Understand &quot;use [difficulty] puzzles&quot; as selecting difficulty. Selecting difficulty is an action out of world, applying to one difficulty.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15888_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15888_5"></a>Carry out selecting difficulty:
            <br>
            &#160;&#160;&#160;&#160;choose row 1 in the Table of Preference Settings;
            <br>
            &#160;&#160;&#160;&#160;now challenge level entry is difficulty understood;
            <br>
            &#160;&#160;&#160;&#160;say &quot;Puzzles will be [challenge level entry] from now on.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15889_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15889_5"></a>The File of Preferences is called &quot;prefs&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15890_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15890_5"></a>When play begins:
            <br>
            &#160;&#160;&#160;&#160;if File of Preferences exists:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;read File of Preferences into the Table of Preference Settings;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row 1 in the Table of Preference Settings;
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(The current puzzle difficulty is set to [challenge level entry].)&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15891_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15891_5"></a>Check quitting the game:
            <br>
            &#160;&#160;&#160;&#160;write File of Preferences from the Table of Preference Settings.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15892_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15892_5"></a>Table of Preference Settings
            <br>
            challenge level
            <br>
            easy
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15893_5"-->
            <blockquote class="code"><p class="quoted"><a id="c15893_5"></a>The Sewer Junction is a room.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Our preference file is restricted to a single option here for simplicity's sake, but we could keep track of more information -- whether the player preferred verbose or brief room descriptions, screen configurations, and so on.</p>
            <p>If we were disposed to be somewhat crueler, we could use a similar method to make the player finish each episode of the series in order to &quot;unlock&quot; the next. All we would need to do is store a numerical password in our preferences file when the player finished a given level; the next level would check, say, the Table of Completed Levels for that password, and refuse to play unless the right number were present.</p>
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "126: Hatless" "e182"-->
        <a id="e182"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example182'); return false;"><b>126</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example182'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hatless</span></b></a><br>
                    It's tempting to use "now..." to distribute items randomly at the start of play, but we need to be a little cautious about how we do that.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="doc124.html#e182"><i>WI</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example182" style="display: none;">
            <p>Suppose we want a game in which each scenario starts with the characters wearing hats -- randomly passed out. We might be tempted to write our scenario like this:</p>
            <!--START CODE "c15894_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15894_182"></a><a href="javascript:pasteCode('[=0x0022=]Hatless[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every hat is worn by a random hatless person.[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Hatless[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every hat is worn by a random hatless person.[=0x000A=][=0x000A=]\n', 'Example - Hatless')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Hatless&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15895_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15895_182"></a>The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15896_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15896_182"></a>Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The target] is here, looking stylish in [an attire].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15897_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15897_182"></a>Rule for writing a paragraph about a hatless person (called the target):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The target] mopes about, hatless.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15898_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15898_182"></a>A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15899_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15899_182"></a>The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15900_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15900_182"></a>When play begins:
            <br>
            &#160;&#160;&#160;&#160;now every hat is worn by a random hatless person.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And we might hope that this would choose a new hatless person for each hat, but we would be wrong. It will instead choose one hatless person and put all the hats on him -- and everyone else has to go bare-headed. That's clearly no good. Let's try again:</p>
            <!--START CODE "c15901_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15901_182"></a><a href="javascript:pasteCode('[=0x0022=]Hatless 2[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every hatless person wears a random hat.[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Hatless 2[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every hatless person wears a random hat.[=0x000A=][=0x000A=]\n', 'Example - Hatless')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Hatless 2&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15902_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15902_182"></a>The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15903_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15903_182"></a>Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The target] is here, looking stylish in [an attire].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15904_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15904_182"></a>Rule for writing a paragraph about a hatless person (called the target):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The target] mopes about, hatless.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15905_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15905_182"></a>A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15906_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15906_182"></a>The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15907_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15907_182"></a>When play begins:
            <br>
            &#160;&#160;&#160;&#160;now every hatless person wears a random hat.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>But this selects one random hat and assigns it to each hatless person in turn -- so it will only wind up being worn by the last of them (since Inform knows that only one person can wear a hat at a time).</p>
            <p>In this case, we do have to expand out our loop so that the game makes an explicit distribution:</p>
            <!--START CODE "c15908_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15908_182"></a><a href="javascript:pasteCode('[=0x0022=]Hatless 3[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]repeat with item running through hats:[=0x000A=][=0x0009=][=0x0009=]now the item is worn by a random hatless person.[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"></a> <a href="javascript:createNewProject('[=0x0022=]Hatless 3[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]repeat with item running through hats:[=0x000A=][=0x0009=][=0x0009=]now the item is worn by a random hatless person.[=0x000A=][=0x000A=]\n', 'Example - Hatless')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"></a>&nbsp;&nbsp; &quot;Hatless 3&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15909_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15909_182"></a>The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15910_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15910_182"></a>Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The target] is here, looking stylish in [an attire].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15911_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15911_182"></a>Rule for writing a paragraph about a hatless person (called the target):
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The target] mopes about, hatless.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15912_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15912_182"></a>A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15913_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15913_182"></a>The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c15914_182"-->
            <blockquote class="code"><p class="quoted"><a id="c15914_182"></a>When play begins:
            <br>
            &#160;&#160;&#160;&#160;repeat with item running through hats:
            <br>
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is worn by a random hatless person.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Each time Inform considers the instruction &quot;now the item is worn by a random hatless person&quot;, there is one fewer such person to choose from -- so we can guarantee that the hats are distributed one per customer and that all hats are distributed.</p>
            <p>Hatless 3 is only guaranteed to work because the number of hats is less than or equal to the number of people; otherwise the final use of random will return &quot;nothing&quot; and then a problem message will appear during play.</p>
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <hr>
    </div>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="Rdoc90.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="Rdoc92.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
