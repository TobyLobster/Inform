<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 8 Jan 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>5.8. Line breaks and paragraph breaks</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Line breaks and paragraph breaks" -->
<!-- SEARCH SECTION "5.8" -->
<!-- SEARCH SORT "000-005-008-000" -->
<!-- START IGNORE 75 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc75.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 5: Text</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc77.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง5.8. Line breaks and paragraph breaks</p>
<p>Inform controls the flow of text being said so that it will read, to the player, in a natural way. There are two principles:</p>
<p>(a) pieces of text ending with full stop, exclamation or question marks will be followed by line breaks (or &quot;new lines&quot;, as some computer programming languages would call them); and</p>
<p>(b) pieces of text produced by different rules in Inform will be separated by paragraph breaks.</p>
<p>The effect is that authors can forget about paragraph spacing most of the time, but the mechanism is not impossible to fool, so text substitutions are provided to override the usual principles. First, to manipulate line breaks:</p>
<!-- START PHRASE "defn45" -->
<div class="definition"><a id="defn45"></a><p class="defnprototype"><b>say &quot;[line break]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_linebreak -->

<p>This text substitution produces a line break. Example:</p>
<!-- START CODE "c943" -->
<a id="c943"></a><blockquote class="code"><p class="quoted">
&quot;There is an endless sense of[line break]falling and[line break]falling.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Line breaks are not paragraph breaks, so the result is:</p>
<!-- START CODE "c944" -->
<a id="c944"></a><blockquote class="code"><p class="quoted">
There is an endless sense of
<br />falling and
<br />falling.
</p></blockquote>
<!-- END CODE -->
<p>with no extra vertical spacing between these lines.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn46" -->
<div class="definition"><a id="defn46"></a><p class="defnprototype"><b>say &quot;[no line break]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_nolinebreak -->

<p>This text substitution produces no text. It's used only for a side-effect: it prevents a line break where Inform might otherwise assume one. Example:</p>
<!-- START CODE "c945" -->
<a id="c945"></a><blockquote class="code"><p class="quoted">
&quot;The chorus sing [one of]Jerusalem[or]Rule, Britannia![no line break][at random].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here the &quot;[no line break]&quot; stops Inform from thinking that the exclamation mark means a sentence ending - it's part of the name of the song &quot;Rule, Britannia!&quot;. So we get</p>
<!-- START CODE "c946" -->
<a id="c946"></a><blockquote class="code"><p class="quoted">
The chorus sing Rule, Britannia!.
</p></blockquote>
<!-- END CODE -->
<p>with no line break between the &quot;!&quot; and &quot;.&quot;.</p>

<!-- end definition -->
</div>

<p>And similarly for paragraph breaks. Because Inform can be pretty trigger-happy with these, the first need is for a way to stop them:</p>
<!-- START PHRASE "defn47" -->
<div class="definition"><a id="defn47"></a><p class="defnprototype"><b>say &quot;[run paragraph on]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_runparaon -->

<p>This text substitution produces no text. It's used only for a side-effect: it prevents a paragraph break occurring after the present text is printed, in case Inform might be tempted to place one there. Example:</p>
<!-- START CODE "c947" -->
<a id="c947"></a><blockquote class="code"><p class="quoted">
Before taking something, say &quot;Very well. [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This allows the reply to, say, TAKE ENVELOPE to be</p>
<!-- START CODE "c948" -->
<a id="c948"></a><blockquote class="code"><p class="quoted">
Very well. Taken.
</p></blockquote>
<!-- END CODE -->
<p>rather than</p>
<!-- START CODE "c949" -->
<a id="c949"></a><blockquote class="code"><p class="quoted">
Very well.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c950" -->
<a id="c950"></a><blockquote class="code"><p class="quoted">
Taken.
</p></blockquote>
<!-- END CODE -->
<p>which is how texts produced by different rules would normally be shown. (It's a traditional printer's term. See Oldfield's Manual of Typography, 1892, under &quot;When two paragraphs are required to be made into one, or, in technical language, 'to run on'.&quot;)</p>

<!-- end definition -->
</div>

<p>But sometimes we actually want paragraph breaks in unexpected places. One way is to force them outright:</p>
<!-- START PHRASE "defn48" -->
<div class="definition"><a id="defn48"></a><p class="defnprototype"><b>say &quot;[paragraph break]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_parabreak -->

<p>This text substitution produces a paragraph break. Example:</p>
<!-- START CODE "c951" -->
<a id="c951"></a><blockquote class="code"><p class="quoted">
&quot;This is not right.[paragraph break]No, something is terribly wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Paragraph breaks have a little vertical spacing in them, unlike mere line breaks, so the result is:</p>
<!-- START CODE "c952" -->
<a id="c952"></a><blockquote class="code"><p class="quoted">
This is not right.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c953" -->
<a id="c953"></a><blockquote class="code"><p class="quoted">
No, something is terribly wrong.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>More subtly, we can give Inform the option:</p>
<!-- START PHRASE "defn49" -->
<div class="definition"><a id="defn49"></a><p class="defnprototype"><b>say &quot;[conditional paragraph break]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_condparabreak -->

<p>This text substitution either produces a paragraph break, or no text at all. It marks a place where Inform can put a paragraph break if necessary; in effect it simulates what Inform does every time a &quot;before&quot; or similar rule finishes. If there is text already printed, and text then follows on, a paragraph break is made. But if not, nothing is done. This is sometimes useful when producing a large amount of text which changes with the circumstances so that it is hard to predict in advance whether a paragraph break is needed or not.</p>

<!-- end definition -->
</div>

<p>Really finicky authors might possibly want to know this:</p>
<!-- START PHRASE "defn50" -->
<div class="definition"><a id="defn50"></a><p class="defnprototype"><b>if a paragraph break is pending:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_breakpending -->

<p>This condition is true if text has recently been said in such a way that Inform expects to add a paragraph break at the next opportunity (for instance when the present rule ends and another one says something, or when a &quot;[conditional paragraph break]&quot; is made).</p>

<!-- end definition -->
</div>

<p>Finally, there are two special sorts of paragraph break for special circumstances. They are mainly used by the Standard Rules, and imitate the textual layout styles of traditional IF.</p>
<!-- START PHRASE "defn51" -->
<div class="definition"><a id="defn51"></a><p class="defnprototype"><b>say &quot;[command clarification break]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_clarifbreak -->

<p>This text substitution produces a line break, and then also a paragraph break if the text immediately following is a room description brought about by having gone to to a different room and looking around, in which case a line break should be added. In traditional IF, this is used when clarifying what Inform thinks the player intended by a given command. Example:</p>
<!-- START CODE "c954" -->
<a id="c954"></a><blockquote class="code"><p class="quoted">
say &quot;(first opening [the noun])[command clarification break]&quot;;
</p></blockquote>
<!-- END CODE -->
<p>might result in</p>
<!-- START CODE "c955" -->
<a id="c955"></a><blockquote class="code"><p class="quoted">
(first opening the valise)
<br />You rummage through the valise for tickets, but find nothing.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn52" -->
<div class="definition"><a id="defn52"></a><p class="defnprototype"><b>say &quot;[run paragraph on with special look spacing]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_runparaonsls -->

<p>This text substitution produces no text. It's used only for a side-effect: it indicates that the current printing position does not follow a skipped line, and that further material is expected which will run on from the previous paragraph, but that if no further material turns up then a skipped line would be needed before the next command prompt. (It's very likely that only the Standard Rules will ever need this.)</p>

<!-- end definition -->
</div>

<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "68: Beekeeper's Apprentice" "e341" -->
<a id="e341"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example341'); return false;"><b>68</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example341'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Beekeeper's Apprentice</span></b></a><br />Making the SEARCH command examine all the scenery in the current location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc33.html#e341"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example341" style="display: none;">
<p>We have to create a suitable action and say what it does, and to repeat what we do through all the scenery items. That needs material from subsequent chapters, but is quite ordinary Inform all the same:</p>
<!-- START CODE "c956_341" -->
<a id="c956_341"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Beekeeper[=0x0027=]s Apprentice[=0x0022=][=0x000A=][=0x000A=]Studying the vicinity is an action applying to nothing.[=0x000A=][=0x000A=]Report studying the vicinity:[=0x000A=][=0x0009=]if the location does not contain something which is scenery:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]There[=0x0027=]s little of interest in the [location].[=0x0022=] instead;[=0x000A=][=0x0009=]repeat with point of interest running through scenery in the location:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][point of interest]: [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try examining the point of interest.[=0x000A=][=0x000A=]Understand [=0x0022=]search[=0x0022=] as studying the vicinity.[=0x000A=][=0x000A=]The Yard is a room.[=0x000A=][=0x000A=]The hive and the honey are scenery things in the Yard. The description of the hive is [=0x0022=]The honeycombed hive is all around you, thrumming with life.[=0x0022=] The description of the honey is [=0x0022=]Wax-sealed honey has been cached in many of the hexagonal nurseries.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]search[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste@2x.png" src="inform:/doc_images/paste@2x.png" width="13" height="13"/></a> <a href="javascript:createNewProject('[=0x0022=]Beekeeper[=0x0027=]s Apprentice[=0x0022=][=0x000A=][=0x000A=]Studying the vicinity is an action applying to nothing.[=0x000A=][=0x000A=]Report studying the vicinity:[=0x000A=][=0x0009=]if the location does not contain something which is scenery:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]There[=0x0027=]s little of interest in the [location].[=0x0022=] instead;[=0x000A=][=0x0009=]repeat with point of interest running through scenery in the location:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][point of interest]: [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try examining the point of interest.[=0x000A=][=0x000A=]Understand [=0x0022=]search[=0x0022=] as studying the vicinity.[=0x000A=][=0x000A=]The Yard is a room.[=0x000A=][=0x000A=]The hive and the honey are scenery things in the Yard. The description of the hive is [=0x0022=]The honeycombed hive is all around you, thrumming with life.[=0x0022=] The description of the honey is [=0x0022=]Wax-sealed honey has been cached in many of the hexagonal nurseries.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]search[=0x0022=].[=0x000A=][=0x000A=]\n', 'Example - Beekeeper[=0x0027=]s Apprentice')"><img alt="create@2x.png" src="inform:/doc_images/create@2x.png" width="26" height="13"/></a>&nbsp;&nbsp; &quot;Beekeeper's Apprentice&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c957_341" -->
<a id="c957_341"></a><blockquote class="code"><p class="quoted">
Studying the vicinity is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c958_341" -->
<a id="c958_341"></a><blockquote class="code"><p class="quoted">
Report studying the vicinity:
<br />&#160;&#160;&#160;&#160;if the location does not contain something which is scenery:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's little of interest in the [location].&quot; instead;
<br />&#160;&#160;&#160;&#160;repeat with point of interest running through scenery in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[point of interest]: [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try examining the point of interest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c959_341" -->
<a id="c959_341"></a><blockquote class="code"><p class="quoted">
Understand &quot;search&quot; as studying the vicinity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c960_341" -->
<a id="c960_341"></a><blockquote class="code"><p class="quoted">
The Yard is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c961_341" -->
<a id="c961_341"></a><blockquote class="code"><p class="quoted">
The hive and the honey are scenery things in the Yard. The description of the hive is &quot;The honeycombed hive is all around you, thrumming with life.&quot; The description of the honey is &quot;Wax-sealed honey has been cached in many of the hexagonal nurseries.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c962_341" -->
<a id="c962_341"></a><blockquote class="code"><p class="quoted">
Test me with &quot;search&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The reason for this example is to show the use of saying &quot;[run paragraph on]&quot;. It means we have output such as:</p>
<!-- START CODE "c963_341" -->
<a id="c963_341"></a><blockquote class="code"><p class="quoted">
&gt;search
<br />hive: The honeycombed hive is all around you, thrumming with life.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c964_341" -->
<a id="c964_341"></a><blockquote class="code"><p class="quoted">
honey: Wax-sealed honey has been cached in many of the hexagonal nurseries.
</p></blockquote>
<!-- END CODE -->
<p>Without the running on, the prompts &quot;hive:&quot; and &quot;honey:&quot; would be separated from the descriptions following them, which would look a little odd.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc75.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc77.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
